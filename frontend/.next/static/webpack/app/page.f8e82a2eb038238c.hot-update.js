"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/canvas/Canvas.tsx":
/*!**************************************!*\
  !*** ./components/canvas/Canvas.tsx ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Canvas: function() { return /* binding */ Canvas; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _GridBackground__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GridBackground */ \"(app-pages-browser)/./components/canvas/GridBackground.tsx\");\n/* harmony import */ var _StickyNote__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StickyNote */ \"(app-pages-browser)/./components/canvas/StickyNote.tsx\");\n/* harmony import */ var _store_boardStore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/store/boardStore */ \"(app-pages-browser)/./store/boardStore.ts\");\n/* harmony import */ var _hooks_usePanZoom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/hooks/usePanZoom */ \"(app-pages-browser)/./hooks/usePanZoom.ts\");\n/* harmony import */ var _utils_debounce__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/utils/debounce */ \"(app-pages-browser)/./utils/debounce.ts\");\n/* harmony import */ var _store_uiStore__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/store/uiStore */ \"(app-pages-browser)/./store/uiStore.ts\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nconst Canvas = (param)=>{\n    let { socket, boardId, userId, activeTool, onClearAllRef, onUndoRef, onRegisterActionRef, onImageUploadRef, canvasStateRef } = param;\n    _s();\n    const BOARD_SIZE = 20000;\n    const BOARD_CENTER = BOARD_SIZE / 2;\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const isPanningRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const lastPointRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const isDrawingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const currentPathRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const isDrawingRectRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const currentRectRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const isDrawingArrowRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const currentArrowRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const isSelectingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const isMovingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const moveStartPointRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const originalNotePositionsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Map());\n    const selectedNoteIdsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set());\n    const isDraggingImageRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const draggedImageIdRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const imageDragStartRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const notes = (0,_store_boardStore__WEBPACK_IMPORTED_MODULE_4__.useBoardStore)((state)=>state.notes);\n    const addNote = (0,_store_boardStore__WEBPACK_IMPORTED_MODULE_4__.useBoardStore)((state)=>state.addNote);\n    const updateNote = (0,_store_boardStore__WEBPACK_IMPORTED_MODULE_4__.useBoardStore)((state)=>state.updateNote);\n    const deleteNote = (0,_store_boardStore__WEBPACK_IMPORTED_MODULE_4__.useBoardStore)((state)=>state.deleteNote);\n    const stickyColor = (0,_store_uiStore__WEBPACK_IMPORTED_MODULE_7__.useUIStore)((state)=>state.stickyColor);\n    const shapeType = (0,_store_uiStore__WEBPACK_IMPORTED_MODULE_7__.useUIStore)((state)=>state.shapeType);\n    const penStyle = (0,_store_uiStore__WEBPACK_IMPORTED_MODULE_7__.useUIStore)((state)=>state.penStyle);\n    const penColor = (0,_store_uiStore__WEBPACK_IMPORTED_MODULE_7__.useUIStore)((state)=>state.penColor);\n    const shapeColor = (0,_store_uiStore__WEBPACK_IMPORTED_MODULE_7__.useUIStore)((state)=>state.shapeColor);\n    const { state, transform, pan, zoom } = (0,_hooks_usePanZoom__WEBPACK_IMPORTED_MODULE_5__.usePanZoom)();\n    // Expose clear/undo/register functions and state setters to parent\n    react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(()=>{\n        if (onClearAllRef) {\n            onClearAllRef.current = ()=>{\n                console.log(\"[Canvas] Clearing all drawings\");\n                setPaths([]);\n                setRects([]);\n                setArrows([]);\n                setTexts([]);\n                setSelectedNoteIds(new Set());\n                setAddingText(null);\n                actionStackRef.current = [];\n            };\n        }\n        if (onRegisterActionRef) {\n            onRegisterActionRef.current = (action)=>{\n                actionStackRef.current.push(action);\n            };\n        }\n        if (onUndoRef) {\n            onUndoRef.current = ()=>{\n                const action = actionStackRef.current.pop();\n                if (!action) return;\n                if (action.type === \"path\") {\n                    setPaths((prev)=>prev.filter((p)=>p.id !== action.id));\n                    socket.emit(\"board:path:delete\", {\n                        boardId,\n                        id: action.id\n                    });\n                } else if (action.type === \"rect\") {\n                    setRects((prev)=>prev.filter((r)=>r.id !== action.id));\n                    socket.emit(\"board:rect:delete\", {\n                        boardId,\n                        id: action.id\n                    });\n                } else if (action.type === \"arrow\") {\n                    setArrows((prev)=>prev.filter((a)=>a.id !== action.id));\n                } else if (action.type === \"text\") {\n                    setTexts((prev)=>prev.filter((t)=>t.id !== action.id));\n                    socket.emit(\"board:text:delete\", {\n                        boardId,\n                        id: action.id\n                    });\n                } else if (action.type === \"note\") {\n                    deleteNote(action.id);\n                    socket.emit(\"board:note:delete\", {\n                        boardId,\n                        id: action.id\n                    });\n                } else if (action.type === \"image\") {\n                    setImages((prev)=>prev.filter((img)=>img.id !== action.id));\n                    socket.emit(\"board:image:delete\", {\n                        boardId,\n                        id: action.id\n                    });\n                }\n            };\n        }\n        if (canvasStateRef) {\n            canvasStateRef.current = {\n                setPaths,\n                setRects,\n                setTexts,\n                setImages\n            };\n        }\n    }, [\n        onClearAllRef,\n        onUndoRef,\n        onRegisterActionRef,\n        canvasStateRef,\n        boardId,\n        deleteNote,\n        socket\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(()=>{\n        if (containerRef.current) {\n            const rect = containerRef.current.getBoundingClientRect();\n            pan(rect.width / 2 - BOARD_CENTER, rect.height / 2 - BOARD_CENTER);\n        }\n    }, []);\n    // Socket listeners for drawing deletions and updates\n    react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(()=>{\n        console.log(\"[Canvas] Setting up socket listeners for socket:\", socket.id);\n        const handlePathCreated = (param)=>{\n            let { path } = param;\n            console.log(\"[Canvas] Received path:created event\", path.id);\n            setPaths((prev)=>{\n                console.log(\"[Canvas] Current paths before add:\", prev.length);\n                const updated = [\n                    ...prev,\n                    path\n                ];\n                console.log(\"[Canvas] Updated paths after add:\", updated.length);\n                return updated;\n            });\n        };\n        const handlePathUpdated = (param)=>{\n            let { path } = param;\n            console.log(\"[Canvas] Received path:updated event\", path.id);\n            setPaths((prev)=>prev.map((p)=>p.id === path.id ? path : p));\n        };\n        const handlePathDeleted = (param)=>{\n            let { id } = param;\n            console.log(\"[Canvas] Received path:deleted event\", id);\n            setPaths((prev)=>prev.filter((p)=>p.id !== id));\n        };\n        const handleRectCreated = (param)=>{\n            let { rect } = param;\n            console.log(\"[Canvas] Received rect:created event\", rect.id);\n            setRects((prev)=>[\n                    ...prev,\n                    rect\n                ]);\n        };\n        const handleRectUpdated = (param)=>{\n            let { rect } = param;\n            console.log(\"[Canvas] Received rect:updated event\", rect.id);\n            setRects((prev)=>prev.map((r)=>r.id === rect.id ? rect : r));\n        };\n        const handleRectDeleted = (param)=>{\n            let { id } = param;\n            console.log(\"[Canvas] Received rect:deleted event\", id);\n            setRects((prev)=>prev.filter((r)=>r.id !== id));\n        };\n        const handleTextDeleted = (param)=>{\n            let { id } = param;\n            console.log(\"[Canvas] Received text:deleted event\", id);\n            setTexts((prev)=>prev.filter((t)=>t.id !== id));\n        };\n        const handleImageCreated = (param)=>{\n            let { image } = param;\n            console.log(\"[Canvas] Received image:created event\", image.id);\n            setImages((prev)=>[\n                    ...prev,\n                    image\n                ]);\n        };\n        const handleImageUpdated = (param)=>{\n            let { image } = param;\n            console.log(\"[Canvas] Received image:updated event\", image.id);\n            setImages((prev)=>prev.map((img)=>img.id === image.id ? image : img));\n        };\n        const handleImageDeleted = (param)=>{\n            let { id } = param;\n            console.log(\"[Canvas] Received image:deleted event\", id);\n            setImages((prev)=>prev.filter((img)=>img.id !== id));\n        };\n        const handleCleared = ()=>{\n            console.log(\"[Canvas] Received board:cleared event\");\n            setPaths([]);\n            setRects([]);\n            setTexts([]);\n            setArrows([]);\n            setImages([]);\n            actionStackRef.current = [];\n        };\n        socket.on(\"board:path:created\", handlePathCreated);\n        socket.on(\"board:path:updated\", handlePathUpdated);\n        socket.on(\"board:path:deleted\", handlePathDeleted);\n        socket.on(\"board:rect:created\", handleRectCreated);\n        socket.on(\"board:rect:updated\", handleRectUpdated);\n        socket.on(\"board:rect:deleted\", handleRectDeleted);\n        socket.on(\"board:text:deleted\", handleTextDeleted);\n        socket.on(\"board:image:created\", handleImageCreated);\n        socket.on(\"board:image:updated\", handleImageUpdated);\n        socket.on(\"board:image:deleted\", handleImageDeleted);\n        socket.on(\"board:cleared\", handleCleared);\n        console.log(\"[Canvas] Socket listeners attached\");\n        return ()=>{\n            console.log(\"[Canvas] Cleaning up socket listeners\");\n            socket.off(\"board:path:created\", handlePathCreated);\n            socket.off(\"board:path:updated\", handlePathUpdated);\n            socket.off(\"board:path:deleted\", handlePathDeleted);\n            socket.off(\"board:rect:created\", handleRectCreated);\n            socket.off(\"board:rect:updated\", handleRectUpdated);\n            socket.off(\"board:rect:deleted\", handleRectDeleted);\n            socket.off(\"board:text:deleted\", handleTextDeleted);\n            socket.off(\"board:image:created\", handleImageCreated);\n            socket.off(\"board:image:updated\", handleImageUpdated);\n            socket.off(\"board:image:deleted\", handleImageDeleted);\n            socket.off(\"board:cleared\", handleCleared);\n        };\n    }, [\n        socket\n    ]);\n    // Cleanup expired neon paths\n    react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(()=>{\n        const fadeOutDuration = 1500; // 1.5 seconds\n        const cleanupInterval = setInterval(()=>{\n            const now = Date.now();\n            setPaths((prev)=>prev.filter((path)=>{\n                    if (!path.isNeon || !path.createdAt) return true;\n                    return now - path.createdAt <= fadeOutDuration;\n                }));\n        }, 100); // Check every 100ms\n        return ()=>clearInterval(cleanupInterval);\n    }, []);\n    const [paths, setPaths] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [rects, setRects] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [arrows, setArrows] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [texts, setTexts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [images, setImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [addingText, setAddingText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedNoteIds, setSelectedNoteIds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    const textInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const actionStackRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    // Helper function to check if a point is within a note's bounds (note width is ~192px, height ~96px)\n    const isPointInNote = (x, y, note)=>{\n        const noteWidth = 192; // w-48 = 12rem = 192px\n        const noteHeight = 96; // h-24 = 6rem = 96px\n        return x >= note.x && x <= note.x + noteWidth && y >= note.y && y <= note.y + noteHeight;\n    };\n    const registerAction = (action)=>{\n        actionStackRef.current.push(action);\n    };\n    // Image upload handler\n    const handleImageUpload = (file)=>{\n        if (!file.type.startsWith(\"image/\")) {\n            console.error(\"Invalid file type\");\n            return;\n        }\n        const reader = new FileReader();\n        reader.onload = (e)=>{\n            var _e_target;\n            const src = (_e_target = e.target) === null || _e_target === void 0 ? void 0 : _e_target.result;\n            if (!src) return;\n            // Create an image element to get dimensions\n            const img = new Image();\n            img.onload = ()=>{\n                var _containerRef_current;\n                const rect = (_containerRef_current = containerRef.current) === null || _containerRef_current === void 0 ? void 0 : _containerRef_current.getBoundingClientRect();\n                if (!rect) return;\n                // Calculate max dimensions (max 400px width or height)\n                const maxSize = 400;\n                let width = img.width;\n                let height = img.height;\n                if (width > maxSize || height > maxSize) {\n                    if (width > height) {\n                        height = height / width * maxSize;\n                        width = maxSize;\n                    } else {\n                        width = width / height * maxSize;\n                        height = maxSize;\n                    }\n                }\n                // Place image at center of viewport\n                const viewportCenterX = (rect.width / 2 - state.x) / state.scale;\n                const viewportCenterY = (rect.height / 2 - state.y) / state.scale;\n                const newImage = {\n                    id: crypto.randomUUID(),\n                    x: viewportCenterX - width / 2,\n                    y: viewportCenterY - height / 2,\n                    src,\n                    width,\n                    height\n                };\n                setImages((prev)=>[\n                        ...prev,\n                        newImage\n                    ]);\n                registerAction({\n                    type: \"image\",\n                    id: newImage.id\n                });\n                socket.emit(\"board:image:create\", {\n                    boardId,\n                    image: newImage\n                });\n            };\n            img.src = src;\n        };\n        reader.readAsDataURL(file);\n    };\n    // Expose image upload handler\n    react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(()=>{\n        if (onImageUploadRef) {\n            onImageUploadRef.current = handleImageUpload;\n        }\n    }, [\n        onImageUploadRef,\n        state.x,\n        state.y,\n        state.scale\n    ]);\n    // Check if point is near a path (within threshold distance)\n    const isPointNearPath = function(x, y, path) {\n        let threshold = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 10;\n        return path.points.some((point)=>{\n            const distance = Math.sqrt(Math.pow(point.x - x, 2) + Math.pow(point.y - y, 2));\n            return distance <= threshold;\n        });\n    };\n    // Check if point is within a rectangle\n    const isPointInRect = (x, y, rect)=>{\n        return x >= rect.x && x <= rect.x + rect.width && y >= rect.y && y <= rect.y + rect.height;\n    };\n    // Check if point is near text (within bounding box)\n    const isPointNearText = (x, y, text)=>{\n        const textWidth = text.text.length * 10; // Approximate width\n        const textHeight = 20; // Approximate height\n        return x >= text.x && x <= text.x + textWidth && y >= text.y - textHeight && y <= text.y;\n    };\n    // Check if point is within an image\n    const isPointInImage = (x, y, image)=>{\n        return x >= image.x && x <= image.x + image.width && y >= image.y && y <= image.y + image.height;\n    };\n    // Handle image drag start\n    const handleImagePointerDown = (event, imageId)=>{\n        var _containerRef_current;\n        if (activeTool !== \"SELECT\") return;\n        event.stopPropagation();\n        const rect = (_containerRef_current = containerRef.current) === null || _containerRef_current === void 0 ? void 0 : _containerRef_current.getBoundingClientRect();\n        if (!rect) return;\n        const x = (event.clientX - rect.left - state.x) / state.scale;\n        const y = (event.clientY - rect.top - state.y) / state.scale;\n        const image = images.find((img)=>img.id === imageId);\n        if (!image) return;\n        isDraggingImageRef.current = true;\n        draggedImageIdRef.current = imageId;\n        imageDragStartRef.current = {\n            x,\n            y,\n            imageX: image.x,\n            imageY: image.y\n        };\n        event.currentTarget.setPointerCapture(event.pointerId);\n    };\n    // Handle image drag move\n    const handleImagePointerMove = (event)=>{\n        var _containerRef_current;\n        if (!isDraggingImageRef.current || !imageDragStartRef.current || !draggedImageIdRef.current) return;\n        const rect = (_containerRef_current = containerRef.current) === null || _containerRef_current === void 0 ? void 0 : _containerRef_current.getBoundingClientRect();\n        if (!rect) return;\n        const x = (event.clientX - rect.left - state.x) / state.scale;\n        const y = (event.clientY - rect.top - state.y) / state.scale;\n        const dx = x - imageDragStartRef.current.x;\n        const dy = y - imageDragStartRef.current.y;\n        const newX = imageDragStartRef.current.imageX + dx;\n        const newY = imageDragStartRef.current.imageY + dy;\n        setImages((prev)=>prev.map((img)=>img.id === draggedImageIdRef.current ? {\n                    ...img,\n                    x: newX,\n                    y: newY\n                } : img));\n        socket.emit(\"board:image:update\", {\n            boardId,\n            image: {\n                ...images.find((img)=>img.id === draggedImageIdRef.current),\n                x: newX,\n                y: newY\n            }\n        });\n    };\n    // Handle image drag end\n    const handleImagePointerUp = (event)=>{\n        if (isDraggingImageRef.current) {\n            isDraggingImageRef.current = false;\n            draggedImageIdRef.current = null;\n            imageDragStartRef.current = null;\n            event.currentTarget.releasePointerCapture(event.pointerId);\n        }\n    };\n    const emitCursor = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>(0,_utils_debounce__WEBPACK_IMPORTED_MODULE_6__.debounce)((x, y)=>{\n            socket.emit(\"presence:cursor\", {\n                boardId,\n                userId,\n                position: {\n                    x,\n                    y\n                }\n            });\n        }, 30), [\n        boardId,\n        socket,\n        userId\n    ]);\n    const handlePointerMove = (event)=>{\n        var _containerRef_current;\n        const rect = (_containerRef_current = containerRef.current) === null || _containerRef_current === void 0 ? void 0 : _containerRef_current.getBoundingClientRect();\n        if (!rect) return;\n        emitCursor(event.clientX - rect.left, event.clientY - rect.top);\n        if (activeTool === \"PAN\" && isPanningRef.current && lastPointRef.current) {\n            const dx = event.movementX || event.clientX - lastPointRef.current.x;\n            const dy = event.movementY || event.clientY - lastPointRef.current.y;\n            pan(dx, dy);\n            lastPointRef.current = {\n                x: event.clientX,\n                y: event.clientY\n            };\n        }\n        if (activeTool === \"SELECT\" && isMovingRef.current && moveStartPointRef.current) {\n            const x = (event.clientX - rect.left - state.x) / state.scale;\n            const y = (event.clientY - rect.top - state.y) / state.scale;\n            const dx = x - moveStartPointRef.current.x;\n            const dy = y - moveStartPointRef.current.y;\n            // Update all selected notes from their original positions (use ref for immediate access)\n            selectedNoteIdsRef.current.forEach((noteId)=>{\n                const originalPos = originalNotePositionsRef.current.get(noteId);\n                if (originalPos) {\n                    const newX = Math.round(originalPos.x + dx);\n                    const newY = Math.round(originalPos.y + dy);\n                    updateNote(noteId, {\n                        x: newX,\n                        y: newY\n                    });\n                    socket.emit(\"board:note:update\", {\n                        boardId,\n                        id: noteId,\n                        x: newX,\n                        y: newY\n                    });\n                }\n            });\n            return;\n        }\n        if (activeTool === \"PEN\" && isDrawingRef.current && currentPathRef.current) {\n            const x = (event.clientX - rect.left - state.x) / state.scale;\n            const y = (event.clientY - rect.top - state.y) / state.scale;\n            currentPathRef.current.points.push({\n                x,\n                y\n            });\n            setPaths((prev)=>prev.map((p)=>{\n                    var _currentPathRef_current;\n                    return p.id === ((_currentPathRef_current = currentPathRef.current) === null || _currentPathRef_current === void 0 ? void 0 : _currentPathRef_current.id) ? currentPathRef.current : p;\n                }));\n            socket.emit(\"board:path:update\", {\n                boardId,\n                path: currentPathRef.current\n            });\n        }\n        if (activeTool === \"SHAPE\" && isDrawingRectRef.current && currentRectRef.current) {\n            const x = (event.clientX - rect.left - state.x) / state.scale;\n            const y = (event.clientY - rect.top - state.y) / state.scale;\n            const startX = currentRectRef.current.startX;\n            const startY = currentRectRef.current.startY;\n            const arrowAngle = shapeType === \"arrow\" ? Math.atan2(y - startY, x - startX) : undefined;\n            currentRectRef.current.endX = x;\n            currentRectRef.current.endY = y;\n            setRects((prev)=>{\n                const updated = [\n                    ...prev\n                ];\n                const lastIdx = updated.length - 1;\n                if (lastIdx >= 0) {\n                    updated[lastIdx] = {\n                        ...updated[lastIdx],\n                        x: Math.min(startX, x),\n                        y: Math.min(startY, y),\n                        width: Math.abs(x - startX),\n                        height: Math.abs(y - startY),\n                        arrowAngle\n                    };\n                    socket.emit(\"board:rect:update\", {\n                        boardId,\n                        rect: updated[lastIdx]\n                    });\n                }\n                return updated;\n            });\n        }\n        if (activeTool === \"ARROW\" && isDrawingArrowRef.current && currentArrowRef.current) {\n            const x = (event.clientX - rect.left - state.x) / state.scale;\n            const y = (event.clientY - rect.top - state.y) / state.scale;\n            currentArrowRef.current.x2 = x;\n            currentArrowRef.current.y2 = y;\n            setArrows((prev)=>{\n                const updated = [\n                    ...prev\n                ];\n                const lastIdx = updated.length - 1;\n                if (lastIdx >= 0) {\n                    updated[lastIdx] = {\n                        ...updated[lastIdx],\n                        x2: x,\n                        y2: y\n                    };\n                }\n                return updated;\n            });\n        }\n        if (activeTool === \"SELECT\" && isSelectingRef.current && currentRectRef.current) {\n            const x = (event.clientX - rect.left - state.x) / state.scale;\n            const y = (event.clientY - rect.top - state.y) / state.scale;\n            const startX = currentRectRef.current.startX;\n            const startY = currentRectRef.current.startY;\n            currentRectRef.current.endX = x;\n            currentRectRef.current.endY = y;\n            setRects((prev)=>{\n                const filtered = prev.filter((r)=>!r.id.startsWith(\"selection-\"));\n                return [\n                    ...filtered,\n                    {\n                        id: \"selection-rect\",\n                        x: Math.min(startX, x),\n                        y: Math.min(startY, y),\n                        width: Math.abs(x - startX),\n                        height: Math.abs(y - startY)\n                    }\n                ];\n            });\n        }\n    };\n    const handleWheel = (event)=>{\n        if (event.ctrlKey) {\n            event.preventDefault();\n            zoom(-event.deltaY / 500, {\n                x: event.clientX,\n                y: event.clientY\n            });\n        } else if (activeTool === \"PAN\") {\n            pan(-event.deltaX, -event.deltaY);\n        }\n    };\n    const handlePointerDown = (event)=>{\n        var _containerRef_current;\n        if (activeTool === \"PAN\") {\n            event.preventDefault();\n            event.stopPropagation();\n            isPanningRef.current = true;\n            lastPointRef.current = {\n                x: event.clientX,\n                y: event.clientY\n            };\n            event.currentTarget.setPointerCapture(event.pointerId);\n            return;\n        }\n        if (activeTool === \"PEN\") {\n            var _containerRef_current1;\n            const rect = (_containerRef_current1 = containerRef.current) === null || _containerRef_current1 === void 0 ? void 0 : _containerRef_current1.getBoundingClientRect();\n            if (!rect) return;\n            const x = (event.clientX - rect.left - state.x) / state.scale;\n            const y = (event.clientY - rect.top - state.y) / state.scale;\n            const isNeon = penStyle === \"neon\";\n            const path = {\n                id: crypto.randomUUID(),\n                points: [\n                    {\n                        x,\n                        y\n                    }\n                ],\n                penStyle,\n                color: penColor,\n                createdAt: isNeon ? Date.now() : undefined,\n                isNeon: isNeon // Flag for neon rendering\n            };\n            isDrawingRef.current = true;\n            currentPathRef.current = path;\n            setPaths((prev)=>[\n                    ...prev,\n                    path\n                ]);\n            registerAction({\n                type: \"path\",\n                id: path.id\n            });\n            console.log(\"[Canvas] Emitting path:create\", path.id);\n            socket.emit(\"board:path:create\", {\n                boardId,\n                path\n            });\n            socket.emit(\"presence:drawing\", {\n                boardId,\n                userId,\n                isDrawing: true\n            });\n            event.currentTarget.setPointerCapture(event.pointerId);\n            return;\n        }\n        if (activeTool === \"SHAPE\") {\n            var _containerRef_current2;\n            const rect = (_containerRef_current2 = containerRef.current) === null || _containerRef_current2 === void 0 ? void 0 : _containerRef_current2.getBoundingClientRect();\n            if (!rect) return;\n            const x = (event.clientX - rect.left - state.x) / state.scale;\n            const y = (event.clientY - rect.top - state.y) / state.scale;\n            isDrawingRectRef.current = true;\n            currentRectRef.current = {\n                startX: x,\n                startY: y,\n                endX: x,\n                endY: y\n            };\n            const arrowAngle = shapeType === \"arrow\" ? 0 : undefined;\n            const newRect = {\n                id: crypto.randomUUID(),\n                x,\n                y,\n                width: 0,\n                height: 0,\n                shapeType,\n                color: shapeColor,\n                arrowAngle\n            };\n            setRects((prev)=>[\n                    ...prev,\n                    newRect\n                ]);\n            registerAction({\n                type: \"rect\",\n                id: newRect.id\n            });\n            socket.emit(\"board:rect:create\", {\n                boardId,\n                rect: newRect\n            });\n            socket.emit(\"presence:drawing\", {\n                boardId,\n                userId,\n                isDrawing: true\n            });\n            event.currentTarget.setPointerCapture(event.pointerId);\n            return;\n        }\n        if (activeTool === \"ARROW\") {\n            var _containerRef_current3;\n            const rect = (_containerRef_current3 = containerRef.current) === null || _containerRef_current3 === void 0 ? void 0 : _containerRef_current3.getBoundingClientRect();\n            if (!rect) return;\n            const x = (event.clientX - rect.left - state.x) / state.scale;\n            const y = (event.clientY - rect.top - state.y) / state.scale;\n            isDrawingArrowRef.current = true;\n            currentArrowRef.current = {\n                x1: x,\n                y1: y,\n                x2: x,\n                y2: y\n            };\n            const newArrow = {\n                id: crypto.randomUUID(),\n                x1: x,\n                y1: y,\n                x2: x,\n                y2: y,\n                color: \"#EF4444\"\n            };\n            setArrows((prev)=>[\n                    ...prev,\n                    newArrow\n                ]);\n            registerAction({\n                type: \"arrow\",\n                id: newArrow.id\n            });\n            event.currentTarget.setPointerCapture(event.pointerId);\n            return;\n        }\n        if (activeTool === \"TEXT\") {\n            var _containerRef_current4;\n            const rect = (_containerRef_current4 = containerRef.current) === null || _containerRef_current4 === void 0 ? void 0 : _containerRef_current4.getBoundingClientRect();\n            if (!rect) return;\n            const x = (event.clientX - rect.left - state.x) / state.scale;\n            const y = (event.clientY - rect.top - state.y) / state.scale;\n            setAddingText({\n                x,\n                y\n            });\n            setTimeout(()=>{\n                var _textInputRef_current;\n                (_textInputRef_current = textInputRef.current) === null || _textInputRef_current === void 0 ? void 0 : _textInputRef_current.focus();\n            }, 0);\n            return;\n        }\n        if (activeTool === \"SELECT\") {\n            var _containerRef_current5;\n            event.preventDefault();\n            event.stopPropagation();\n            const rect = (_containerRef_current5 = containerRef.current) === null || _containerRef_current5 === void 0 ? void 0 : _containerRef_current5.getBoundingClientRect();\n            if (!rect) return;\n            const x = (event.clientX - rect.left - state.x) / state.scale;\n            const y = (event.clientY - rect.top - state.y) / state.scale;\n            // Check if clicking on any note (selected or not)\n            const clickedNote = notes.find((n)=>isPointInNote(x, y, n));\n            if (clickedNote) {\n                let currentSelection = selectedNoteIds;\n                // If clicking on an unselected note, select only that note\n                if (!selectedNoteIds.has(clickedNote.id)) {\n                    currentSelection = new Set([\n                        clickedNote.id\n                    ]);\n                    setSelectedNoteIds(currentSelection);\n                    selectedNoteIdsRef.current = currentSelection;\n                }\n                // Start moving the selected note(s) - store original positions\n                console.log(\"SELECT: Start moving notes\");\n                isMovingRef.current = true;\n                moveStartPointRef.current = {\n                    x,\n                    y\n                };\n                // Store original positions of all selected notes\n                originalNotePositionsRef.current.clear();\n                currentSelection.forEach((noteId)=>{\n                    const note = notes.find((n)=>n.id === noteId);\n                    if (note) {\n                        originalNotePositionsRef.current.set(noteId, {\n                            x: note.x,\n                            y: note.y\n                        });\n                    }\n                });\n                event.currentTarget.setPointerCapture(event.pointerId);\n                return;\n            }\n            // Otherwise, start selection rectangle\n            console.log(\"SELECT: Start selection at\", x, y);\n            isSelectingRef.current = true;\n            currentRectRef.current = {\n                startX: x,\n                startY: y,\n                endX: x,\n                endY: y\n            };\n            selectedNoteIdsRef.current.clear();\n            setSelectedNoteIds(new Set());\n            event.currentTarget.setPointerCapture(event.pointerId);\n            return;\n        }\n        if (activeTool === \"ERASER\") {\n            var _containerRef_current6;\n            event.preventDefault();\n            event.stopPropagation();\n            const rect = (_containerRef_current6 = containerRef.current) === null || _containerRef_current6 === void 0 ? void 0 : _containerRef_current6.getBoundingClientRect();\n            if (!rect) return;\n            const x = (event.clientX - rect.left - state.x) / state.scale;\n            const y = (event.clientY - rect.top - state.y) / state.scale;\n            // Check for sticky note to delete\n            const noteToDelete = notes.find((n)=>isPointInNote(x, y, n));\n            if (noteToDelete) {\n                console.log(\"Erasing note:\", noteToDelete.id);\n                deleteNote(noteToDelete.id);\n                socket.emit(\"board:note:delete\", {\n                    boardId,\n                    id: noteToDelete.id\n                });\n                return;\n            }\n            // Check for path to delete\n            const pathToDelete = paths.find((p)=>isPointNearPath(x, y, p));\n            if (pathToDelete) {\n                console.log(\"Erasing path:\", pathToDelete.id);\n                setPaths((prev)=>prev.filter((p)=>p.id !== pathToDelete.id));\n                socket.emit(\"board:path:delete\", {\n                    boardId,\n                    id: pathToDelete.id\n                });\n                return;\n            }\n            // Check for rectangle to delete\n            const rectToDelete = rects.find((r)=>!r.id.startsWith(\"selection-\") && isPointInRect(x, y, r));\n            if (rectToDelete) {\n                console.log(\"Erasing rect:\", rectToDelete.id);\n                setRects((prev)=>prev.filter((r)=>r.id !== rectToDelete.id));\n                socket.emit(\"board:rect:delete\", {\n                    boardId,\n                    id: rectToDelete.id\n                });\n                return;\n            }\n            // Check for text to delete\n            const textToDelete = texts.find((t)=>isPointNearText(x, y, t));\n            if (textToDelete) {\n                console.log(\"Erasing text:\", textToDelete.id);\n                setTexts((prev)=>prev.filter((t)=>t.id !== textToDelete.id));\n                socket.emit(\"board:text:delete\", {\n                    boardId,\n                    id: textToDelete.id\n                });\n                return;\n            }\n            // Check for image to delete\n            const imageToDelete = images.find((img)=>isPointInImage(x, y, img));\n            if (imageToDelete) {\n                console.log(\"Erasing image:\", imageToDelete.id);\n                setImages((prev)=>prev.filter((img)=>img.id !== imageToDelete.id));\n                socket.emit(\"board:image:delete\", {\n                    boardId,\n                    id: imageToDelete.id\n                });\n                return;\n            }\n            return;\n        }\n        if (activeTool !== \"STICKY\") return;\n        const rect = (_containerRef_current = containerRef.current) === null || _containerRef_current === void 0 ? void 0 : _containerRef_current.getBoundingClientRect();\n        if (!rect) return;\n        const x = (event.clientX - rect.left - state.x) / state.scale;\n        const y = (event.clientY - rect.top - state.y) / state.scale;\n        const note = {\n            id: crypto.randomUUID(),\n            x: Math.round(x),\n            y: Math.round(y),\n            text: \"New note\",\n            color: stickyColor\n        };\n        addNote(note);\n        registerAction({\n            type: \"note\",\n            id: note.id\n        });\n        socket.emit(\"board:note:create\", {\n            boardId,\n            note\n        });\n    };\n    const handlePointerUp = (event)=>{\n        if (activeTool === \"PAN\") {\n            event.preventDefault();\n            event.stopPropagation();\n            isPanningRef.current = false;\n            lastPointRef.current = null;\n            event.currentTarget.releasePointerCapture(event.pointerId);\n        }\n        if (activeTool === \"PEN\") {\n            isDrawingRef.current = false;\n            currentPathRef.current = null;\n            socket.emit(\"presence:drawing\", {\n                boardId,\n                userId,\n                isDrawing: false\n            });\n            event.currentTarget.releasePointerCapture(event.pointerId);\n        }\n        if (activeTool === \"SHAPE\") {\n            isDrawingRectRef.current = false;\n            currentRectRef.current = null;\n            socket.emit(\"presence:drawing\", {\n                boardId,\n                userId,\n                isDrawing: false\n            });\n            event.currentTarget.releasePointerCapture(event.pointerId);\n        }\n        if (activeTool === \"ARROW\") {\n            isDrawingArrowRef.current = false;\n            currentArrowRef.current = null;\n            event.currentTarget.releasePointerCapture(event.pointerId);\n        }\n        if (activeTool === \"SELECT\") {\n            console.log(\"SELECT: End\");\n            if (isMovingRef.current) {\n                console.log(\"SELECT: End moving\");\n                isMovingRef.current = false;\n                moveStartPointRef.current = null;\n                originalNotePositionsRef.current.clear();\n                event.currentTarget.releasePointerCapture(event.pointerId);\n                return;\n            }\n            isSelectingRef.current = false;\n            // Find notes within selection rectangle and select them\n            const selectionRects = rects.filter((r)=>r.id === \"selection-rect\");\n            if (selectionRects.length > 0) {\n                const selRect = selectionRects[0];\n                const selectedNotes = notes.filter((note)=>note.x >= selRect.x && note.x <= selRect.x + selRect.width && note.y >= selRect.y && note.y <= selRect.y + selRect.height);\n                console.log(\"Selected notes:\", selectedNotes.length, selectedNotes);\n                const newSelectedIds = new Set(selectedNotes.map((n)=>n.id));\n                setSelectedNoteIds(newSelectedIds);\n                selectedNoteIdsRef.current = newSelectedIds;\n            }\n            currentRectRef.current = null;\n            // Remove selection rectangle after a short delay so it's visible\n            setTimeout(()=>{\n                setRects((prev)=>prev.filter((r)=>!r.id.startsWith(\"selection-\")));\n            }, 200);\n            event.currentTarget.releasePointerCapture(event.pointerId);\n        }\n    };\n    const handleNoteUpdate = (id, text)=>{\n        console.log(\"[Canvas] handleNoteUpdate called for note:\", id, \"text:\", text, \"socket.connected:\", socket === null || socket === void 0 ? void 0 : socket.connected);\n        if (!(socket === null || socket === void 0 ? void 0 : socket.connected)) {\n            console.warn(\"[Canvas] Socket not connected, cannot emit update\");\n            return;\n        }\n        socket.emit(\"board:note:update\", {\n            boardId,\n            id,\n            text\n        });\n    };\n    const handleTextInput = (e)=>{\n        if (e.key === \"Enter\" && addingText) {\n            const text = e.currentTarget.value || \"Text\";\n            const newText = {\n                id: crypto.randomUUID(),\n                x: Math.round(addingText.x),\n                y: Math.round(addingText.y),\n                text\n            };\n            setTexts((prev)=>[\n                    ...prev,\n                    newText\n                ]);\n            registerAction({\n                type: \"text\",\n                id: newText.id\n            });\n            socket.emit(\"board:text:create\", {\n                boardId,\n                text: newText\n            });\n            setAddingText(null);\n        } else if (e.key === \"Escape\") {\n            setAddingText(null);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: containerRef,\n        className: \"relative h-full w-full overflow-hidden touch-none\",\n        style: {\n            cursor: activeTool === \"ERASER\" ? \"not-allowed\" : activeTool === \"PAN\" ? \"grab\" : \"crosshair\"\n        },\n        onPointerMove: handlePointerMove,\n        onPointerDown: handlePointerDown,\n        onPointerUp: handlePointerUp,\n        onPointerLeave: handlePointerUp,\n        onPointerCancel: handlePointerUp,\n        onWheel: handleWheel,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute left-0 top-0\",\n                style: {\n                    width: BOARD_SIZE,\n                    height: BOARD_SIZE,\n                    transform,\n                    transformOrigin: \"0 0\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_GridBackground__WEBPACK_IMPORTED_MODULE_2__.GridBackground, {\n                        size: BOARD_SIZE\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                        lineNumber: 912,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        className: \"absolute left-0 top-0\",\n                        width: BOARD_SIZE,\n                        height: BOARD_SIZE,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"defs\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"filter\", {\n                                        id: \"neonGlow\",\n                                        x: \"-50%\",\n                                        y: \"-50%\",\n                                        width: \"200%\",\n                                        height: \"200%\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"feGaussianBlur\", {\n                                                stdDeviation: \"2\",\n                                                result: \"coloredBlur\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                                lineNumber: 917,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"feMerge\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"feMergeNode\", {\n                                                        in: \"coloredBlur\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                                        lineNumber: 919,\n                                                        columnNumber: 17\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"feMergeNode\", {\n                                                        in: \"SourceGraphic\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                                        lineNumber: 920,\n                                                        columnNumber: 17\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                                lineNumber: 918,\n                                                columnNumber: 15\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                        lineNumber: 916,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"filter\", {\n                                        id: \"neonGlowIntense\",\n                                        x: \"-100%\",\n                                        y: \"-100%\",\n                                        width: \"300%\",\n                                        height: \"300%\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"feGaussianBlur\", {\n                                                stdDeviation: \"3\",\n                                                result: \"coloredBlur\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                                lineNumber: 924,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"feMerge\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"feMergeNode\", {\n                                                        in: \"coloredBlur\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                                        lineNumber: 926,\n                                                        columnNumber: 17\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"feMergeNode\", {\n                                                        in: \"coloredBlur\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                                        lineNumber: 927,\n                                                        columnNumber: 17\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"feMergeNode\", {\n                                                        in: \"SourceGraphic\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                                        lineNumber: 928,\n                                                        columnNumber: 17\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                                lineNumber: 925,\n                                                columnNumber: 15\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                        lineNumber: 923,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                lineNumber: 914,\n                                columnNumber: 11\n                            }, undefined),\n                            images.map((imageItem)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"image\", {\n                                    x: imageItem.x,\n                                    y: imageItem.y,\n                                    width: imageItem.width,\n                                    height: imageItem.height,\n                                    href: imageItem.src,\n                                    preserveAspectRatio: \"xMidYMid meet\",\n                                    pointerEvents: activeTool === \"SELECT\" ? \"auto\" : \"none\",\n                                    style: {\n                                        cursor: activeTool === \"SELECT\" ? \"move\" : \"default\"\n                                    },\n                                    ...activeTool === \"SELECT\" && {\n                                        onPointerDown: (e)=>handleImagePointerDown(e, imageItem.id),\n                                        onPointerMove: handleImagePointerMove,\n                                        onPointerUp: handleImagePointerUp\n                                    }\n                                }, imageItem.id, false, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                    lineNumber: 934,\n                                    columnNumber: 13\n                                }, undefined)),\n                            paths.map((path)=>{\n                                const style = path.penStyle || \"solid\";\n                                const now = Date.now();\n                                const elapsed = path.createdAt ? now - path.createdAt : 0;\n                                const fadeOutDuration = 1500; // 1.5 seconds\n                                const isExpired = elapsed > fadeOutDuration;\n                                // Calculate fade out opacity\n                                const baseOpacity = style === \"highlighter\" ? 0.4 : 1;\n                                const fadeOpacity = path.isNeon ? Math.max(0, 1 - elapsed / fadeOutDuration) : 1;\n                                const finalOpacity = baseOpacity * fadeOpacity;\n                                if (isExpired) return null; // Don't render expired paths\n                                const strokeWidth = style === \"marker\" ? 6 : style === \"highlighter\" ? 12 : style === \"neon\" ? 3 : style === \"pencil\" ? 1.5 : 2;\n                                const strokeDasharray = style === \"dashed\" ? \"8,4\" : style === \"dotted\" ? \"2,4\" : \"0\";\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                    d: \"M \".concat(path.points.map((p)=>\"\".concat(p.x, \" \").concat(p.y)).join(\" L \")),\n                                    fill: \"none\",\n                                    stroke: path.color || \"#0EA5E9\",\n                                    strokeWidth: strokeWidth,\n                                    strokeLinecap: \"round\",\n                                    strokeLinejoin: \"round\",\n                                    strokeDasharray: strokeDasharray,\n                                    opacity: finalOpacity,\n                                    filter: path.isNeon ? \"url(#neonGlowIntense)\" : \"none\",\n                                    style: {\n                                        transition: path.isNeon ? \"opacity 0.05s linear\" : \"none\"\n                                    }\n                                }, path.id, false, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                    lineNumber: 987,\n                                    columnNumber: 15\n                                }, undefined);\n                            }),\n                            arrows.map((arrow)=>{\n                                const dx = arrow.x2 - arrow.x1;\n                                const dy = arrow.y2 - arrow.y1;\n                                const length = Math.hypot(dx, dy);\n                                const t = Math.min(1, Math.max(0, length / 300));\n                                const strokeWidth = 2 + t * 6;\n                                const headLength = 10 + t * 16;\n                                const headWidth = 6 + t * 12;\n                                const angle = Math.atan2(dy, dx);\n                                const ux = Math.cos(angle);\n                                const uy = Math.sin(angle);\n                                const px = -uy;\n                                const py = ux;\n                                const baseX = arrow.x2 - headLength * ux;\n                                const baseY = arrow.y2 - headLength * uy;\n                                const x3 = baseX + headWidth / 2 * px;\n                                const y3 = baseY + headWidth / 2 * py;\n                                const x4 = baseX - headWidth / 2 * px;\n                                const y4 = baseY - headWidth / 2 * py;\n                                const color = arrow.color || \"#EF4444\";\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"g\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"line\", {\n                                            x1: arrow.x1,\n                                            y1: arrow.y1,\n                                            x2: arrow.x2,\n                                            y2: arrow.y2,\n                                            stroke: color,\n                                            strokeWidth: strokeWidth,\n                                            strokeLinecap: \"round\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                            lineNumber: 1027,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"polygon\", {\n                                            points: \"\".concat(arrow.x2, \",\").concat(arrow.y2, \" \").concat(x3, \",\").concat(y3, \" \").concat(x4, \",\").concat(y4),\n                                            fill: color\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                            lineNumber: 1036,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, arrow.id, true, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                    lineNumber: 1026,\n                                    columnNumber: 15\n                                }, undefined);\n                            }),\n                            rects.map((rect)=>{\n                                const isSelection = rect.id.startsWith(\"selection-\");\n                                const shapeType = rect.shapeType || \"rectangle\";\n                                const shapeColor = rect.color || \"#8B5CF6\";\n                                const cx = rect.x + rect.width / 2;\n                                const cy = rect.y + rect.height / 2;\n                                const r = Math.min(rect.width, rect.height) / 2;\n                                var _rect_arrowAngle;\n                                const arrowAngle = (_rect_arrowAngle = rect.arrowAngle) !== null && _rect_arrowAngle !== void 0 ? _rect_arrowAngle : 0;\n                                const arrowLength = Math.max(rect.width, rect.height);\n                                const arrowHeadLength = Math.min(24, 10 + arrowLength * 0.2);\n                                const arrowHeadWidth = Math.min(18, 6 + arrowLength * 0.15);\n                                const ux = Math.cos(arrowAngle);\n                                const uy = Math.sin(arrowAngle);\n                                const px = -uy;\n                                const py = ux;\n                                const lineX1 = cx - arrowLength / 2 * ux;\n                                const lineY1 = cy - arrowLength / 2 * uy;\n                                const lineX2 = cx + arrowLength / 2 * ux;\n                                const lineY2 = cy + arrowLength / 2 * uy;\n                                const baseX = lineX2 - arrowHeadLength * ux;\n                                const baseY = lineY2 - arrowHeadLength * uy;\n                                const arrowPoints = \"\".concat(lineX2, \",\").concat(lineY2, \" \").concat(baseX + arrowHeadWidth / 2 * px, \",\").concat(baseY + arrowHeadWidth / 2 * py, \" \").concat(baseX - arrowHeadWidth / 2 * px, \",\").concat(baseY - arrowHeadWidth / 2 * py);\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"g\", {\n                                    children: [\n                                        shapeType === \"rectangle\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                                            x: rect.x,\n                                            y: rect.y,\n                                            width: rect.width,\n                                            height: rect.height,\n                                            fill: isSelection ? \"rgba(96, 165, 250, 0.1)\" : \"none\",\n                                            stroke: isSelection ? \"#0EA5E9\" : shapeColor,\n                                            strokeWidth: isSelection ? \"3\" : \"2\",\n                                            strokeDasharray: isSelection ? \"8,4\" : \"0\",\n                                            pointerEvents: \"none\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                            lineNumber: 1069,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        shapeType === \"circle\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ellipse\", {\n                                            cx: cx,\n                                            cy: cy,\n                                            rx: rect.width / 2,\n                                            ry: rect.height / 2,\n                                            fill: isSelection ? \"rgba(96, 165, 250, 0.1)\" : \"none\",\n                                            stroke: isSelection ? \"#0EA5E9\" : shapeColor,\n                                            strokeWidth: isSelection ? \"3\" : \"2\",\n                                            strokeDasharray: isSelection ? \"8,4\" : \"0\",\n                                            pointerEvents: \"none\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                            lineNumber: 1082,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        shapeType === \"triangle\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"polygon\", {\n                                            points: \"\".concat(cx, \",\").concat(rect.y, \" \").concat(rect.x + rect.width, \",\").concat(rect.y + rect.height, \" \").concat(rect.x, \",\").concat(rect.y + rect.height),\n                                            fill: isSelection ? \"rgba(96, 165, 250, 0.1)\" : \"none\",\n                                            stroke: isSelection ? \"#0EA5E9\" : shapeColor,\n                                            strokeWidth: isSelection ? \"3\" : \"2\",\n                                            strokeDasharray: isSelection ? \"8,4\" : \"0\",\n                                            pointerEvents: \"none\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                            lineNumber: 1095,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        shapeType === \"diamond\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"polygon\", {\n                                            points: \"\".concat(cx, \",\").concat(rect.y, \" \").concat(rect.x + rect.width, \",\").concat(cy, \" \").concat(cx, \",\").concat(rect.y + rect.height, \" \").concat(rect.x, \",\").concat(cy),\n                                            fill: isSelection ? \"rgba(96, 165, 250, 0.1)\" : \"none\",\n                                            stroke: isSelection ? \"#0EA5E9\" : shapeColor,\n                                            strokeWidth: isSelection ? \"3\" : \"2\",\n                                            strokeDasharray: isSelection ? \"8,4\" : \"0\",\n                                            pointerEvents: \"none\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                            lineNumber: 1105,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        shapeType === \"star\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            d: \"M \".concat(cx, \",\").concat(rect.y, \" L \").concat(cx + r * 0.3, \",\").concat(cy - r * 0.3, \" L \").concat(rect.x + rect.width, \",\").concat(cy, \" L \").concat(cx + r * 0.3, \",\").concat(cy + r * 0.3, \" L \").concat(cx, \",\").concat(rect.y + rect.height, \" L \").concat(cx - r * 0.3, \",\").concat(cy + r * 0.3, \" L \").concat(rect.x, \",\").concat(cy, \" L \").concat(cx - r * 0.3, \",\").concat(cy - r * 0.3, \" Z\"),\n                                            fill: isSelection ? \"rgba(96, 165, 250, 0.1)\" : \"none\",\n                                            stroke: isSelection ? \"#0EA5E9\" : shapeColor,\n                                            strokeWidth: isSelection ? \"3\" : \"2\",\n                                            strokeDasharray: isSelection ? \"8,4\" : \"0\",\n                                            pointerEvents: \"none\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                            lineNumber: 1115,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        shapeType === \"arrow\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"line\", {\n                                                    x1: lineX1,\n                                                    y1: lineY1,\n                                                    x2: lineX2,\n                                                    y2: lineY2,\n                                                    stroke: isSelection ? \"#0EA5E9\" : shapeColor,\n                                                    strokeWidth: isSelection ? \"3\" : \"2\",\n                                                    strokeDasharray: isSelection ? \"8,4\" : \"0\",\n                                                    pointerEvents: \"none\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                                    lineNumber: 1126,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"polygon\", {\n                                                    points: arrowPoints,\n                                                    fill: isSelection ? \"#0EA5E9\" : shapeColor,\n                                                    pointerEvents: \"none\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                                    lineNumber: 1136,\n                                                    columnNumber: 21\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true),\n                                        isSelection && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                    cx: rect.x,\n                                                    cy: rect.y,\n                                                    r: \"6\",\n                                                    fill: \"#0EA5E9\",\n                                                    pointerEvents: \"none\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                                    lineNumber: 1145,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                    cx: rect.x + rect.width,\n                                                    cy: rect.y,\n                                                    r: \"6\",\n                                                    fill: \"#0EA5E9\",\n                                                    pointerEvents: \"none\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                                    lineNumber: 1146,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                    cx: rect.x,\n                                                    cy: rect.y + rect.height,\n                                                    r: \"6\",\n                                                    fill: \"#0EA5E9\",\n                                                    pointerEvents: \"none\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                                    lineNumber: 1147,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                    cx: rect.x + rect.width,\n                                                    cy: rect.y + rect.height,\n                                                    r: \"6\",\n                                                    fill: \"#0EA5E9\",\n                                                    pointerEvents: \"none\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                                    lineNumber: 1148,\n                                                    columnNumber: 21\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true)\n                                    ]\n                                }, rect.id, true, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                    lineNumber: 1067,\n                                    columnNumber: 15\n                                }, undefined);\n                            }),\n                            texts.map((textItem)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"text\", {\n                                    x: textItem.x,\n                                    y: textItem.y,\n                                    fontSize: \"16\",\n                                    fill: \"#000\",\n                                    fontFamily: \"system-ui, sans-serif\",\n                                    children: textItem.text\n                                }, textItem.id, false, {\n                                    fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                                    lineNumber: 1155,\n                                    columnNumber: 13\n                                }, undefined))\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                        lineNumber: 913,\n                        columnNumber: 9\n                    }, undefined),\n                    notes.map((note)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_StickyNote__WEBPACK_IMPORTED_MODULE_3__.StickyNote, {\n                            note: note,\n                            onUpdate: handleNoteUpdate,\n                            isSelected: selectedNoteIds.has(note.id),\n                            activeTool: activeTool\n                        }, note.id, false, {\n                            fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                            lineNumber: 1168,\n                            columnNumber: 11\n                        }, undefined))\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                lineNumber: 908,\n                columnNumber: 7\n            }, undefined),\n            addingText && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                ref: textInputRef,\n                type: \"text\",\n                placeholder: \"Type text and press Enter...\",\n                onKeyDown: handleTextInput,\n                onBlur: ()=>setAddingText(null),\n                className: \"absolute bg-white border-2 border-blue-500 rounded px-2 py-1 text-sm\",\n                style: {\n                    left: \"\".concat(addingText.x * state.scale + state.x, \"px\"),\n                    top: \"\".concat(addingText.y * state.scale + state.y, \"px\")\n                }\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n                lineNumber: 1172,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\HP\\\\Desktop\\\\try1\\\\frontend\\\\components\\\\canvas\\\\Canvas.tsx\",\n        lineNumber: 897,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Canvas, \"FzScIYYoZthV29sCI8ZIN6lckqI=\", false, function() {\n    return [\n        _store_boardStore__WEBPACK_IMPORTED_MODULE_4__.useBoardStore,\n        _store_boardStore__WEBPACK_IMPORTED_MODULE_4__.useBoardStore,\n        _store_boardStore__WEBPACK_IMPORTED_MODULE_4__.useBoardStore,\n        _store_boardStore__WEBPACK_IMPORTED_MODULE_4__.useBoardStore,\n        _store_uiStore__WEBPACK_IMPORTED_MODULE_7__.useUIStore,\n        _store_uiStore__WEBPACK_IMPORTED_MODULE_7__.useUIStore,\n        _store_uiStore__WEBPACK_IMPORTED_MODULE_7__.useUIStore,\n        _store_uiStore__WEBPACK_IMPORTED_MODULE_7__.useUIStore,\n        _store_uiStore__WEBPACK_IMPORTED_MODULE_7__.useUIStore,\n        _hooks_usePanZoom__WEBPACK_IMPORTED_MODULE_5__.usePanZoom\n    ];\n});\n_c = Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvY2FudmFzL0NhbnZhcy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXlEO0FBQ1A7QUFDUjtBQUNTO0FBQ0g7QUFDSjtBQUNDO0FBeUV0QyxNQUFNVSxTQUFTO1FBQUMsRUFDckJDLE1BQU0sRUFDTkMsT0FBTyxFQUNQQyxNQUFNLEVBQ05DLFVBQVUsRUFDVkMsYUFBYSxFQUNiQyxTQUFTLEVBQ1RDLG1CQUFtQixFQUNuQkMsZ0JBQWdCLEVBQ2hCQyxjQUFjLEVBQ0Y7O0lBQ1osTUFBTUMsYUFBYTtJQUNuQixNQUFNQyxlQUFlRCxhQUFhO0lBQ2xDLE1BQU1FLGVBQWVwQiw2Q0FBTUEsQ0FBd0I7SUFDbkQsTUFBTXFCLGVBQWVyQiw2Q0FBTUEsQ0FBQztJQUM1QixNQUFNc0IsZUFBZXRCLDZDQUFNQSxDQUFrQztJQUM3RCxNQUFNdUIsZUFBZXZCLDZDQUFNQSxDQUFDO0lBQzVCLE1BQU13QixpQkFBaUJ4Qiw2Q0FBTUEsQ0FBa0I7SUFDL0MsTUFBTXlCLG1CQUFtQnpCLDZDQUFNQSxDQUFDO0lBQ2hDLE1BQU0wQixpQkFBaUIxQiw2Q0FBTUEsQ0FBd0U7SUFDckcsTUFBTTJCLG9CQUFvQjNCLDZDQUFNQSxDQUFDO0lBQ2pDLE1BQU00QixrQkFBa0I1Qiw2Q0FBTUEsQ0FBNEQ7SUFDMUYsTUFBTTZCLGlCQUFpQjdCLDZDQUFNQSxDQUFDO0lBQzlCLE1BQU04QixjQUFjOUIsNkNBQU1BLENBQUM7SUFDM0IsTUFBTStCLG9CQUFvQi9CLDZDQUFNQSxDQUFrQztJQUNsRSxNQUFNZ0MsMkJBQTJCaEMsNkNBQU1BLENBQXdDLElBQUlpQztJQUNuRixNQUFNQyxxQkFBcUJsQyw2Q0FBTUEsQ0FBYyxJQUFJbUM7SUFDbkQsTUFBTUMscUJBQXFCcEMsNkNBQU1BLENBQUM7SUFDbEMsTUFBTXFDLG9CQUFvQnJDLDZDQUFNQSxDQUFnQjtJQUNoRCxNQUFNc0Msb0JBQW9CdEMsNkNBQU1BLENBQWtFO0lB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SyxDQUFDLEdBQUc3RSxNQUFNZ0csS0FBSyxHQUFHaEcsTUFBTTZFLENBQUMsRUFBQztnQkFDL0M7Ozs7Ozs7Ozs7OztBQUtWLEVBQUU7R0FubENXN0c7O1FBOEJHSiw0REFBYUE7UUFDWEEsNERBQWFBO1FBQ1ZBLDREQUFhQTtRQUNiQSw0REFBYUE7UUFDWkcsc0RBQVVBO1FBQ1pBLHNEQUFVQTtRQUNYQSxzREFBVUE7UUFDVkEsc0RBQVVBO1FBQ1JBLHNEQUFVQTtRQUNXRix5REFBVUE7OztLQXZDdkNHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvY2FudmFzL0NhbnZhcy50c3g/MWRkMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyBHcmlkQmFja2dyb3VuZCB9IGZyb20gXCIuL0dyaWRCYWNrZ3JvdW5kXCI7XHJcbmltcG9ydCB7IFN0aWNreU5vdGUgfSBmcm9tIFwiLi9TdGlja3lOb3RlXCI7XHJcbmltcG9ydCB7IHVzZUJvYXJkU3RvcmUgfSBmcm9tIFwiQC9zdG9yZS9ib2FyZFN0b3JlXCI7XHJcbmltcG9ydCB7IHVzZVBhblpvb20gfSBmcm9tIFwiQC9ob29rcy91c2VQYW5ab29tXCI7XHJcbmltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSBcIkAvdXRpbHMvZGVib3VuY2VcIjtcclxuaW1wb3J0IHsgdXNlVUlTdG9yZSB9IGZyb20gXCJAL3N0b3JlL3VpU3RvcmVcIjtcclxuaW1wb3J0IHR5cGUgeyBTb2NrZXQgfSBmcm9tIFwic29ja2V0LmlvLWNsaWVudFwiO1xyXG5cclxuaW50ZXJmYWNlIENhbnZhc1Byb3BzIHtcclxuICBzb2NrZXQ6IFNvY2tldDtcclxuICBib2FyZElkOiBzdHJpbmc7XHJcbiAgdXNlcklkOiBzdHJpbmc7XHJcbiAgYWN0aXZlVG9vbDogc3RyaW5nO1xyXG4gIG9uQ2xlYXJBbGxSZWY/OiBSZWFjdC5NdXRhYmxlUmVmT2JqZWN0PCgoKSA9PiB2b2lkKSB8IG51bGw+O1xyXG4gIG9uVW5kb1JlZj86IFJlYWN0Lk11dGFibGVSZWZPYmplY3Q8KCgpID0+IHZvaWQpIHwgbnVsbD47XHJcbiAgb25SZWdpc3RlckFjdGlvblJlZj86IFJlYWN0Lk11dGFibGVSZWZPYmplY3Q8KChhY3Rpb246IENhbnZhc0FjdGlvbikgPT4gdm9pZCkgfCBudWxsPjtcclxuICBvbkltYWdlVXBsb2FkUmVmPzogUmVhY3QuTXV0YWJsZVJlZk9iamVjdDwoKGZpbGU6IEZpbGUpID0+IHZvaWQpIHwgbnVsbD47XHJcbiAgY2FudmFzU3RhdGVSZWY/OiBSZWFjdC5NdXRhYmxlUmVmT2JqZWN0PHtcclxuICAgIHNldFBhdGhzOiAocGF0aHM6IERyYXdQYXRoW10pID0+IHZvaWQ7XHJcbiAgICBzZXRSZWN0czogKHJlY3RzOiBEcmF3UmVjdFtdKSA9PiB2b2lkO1xyXG4gICAgc2V0VGV4dHM6ICh0ZXh0czogRHJhd1RleHRbXSkgPT4gdm9pZDtcclxuICAgIHNldEltYWdlczogKGltYWdlczogRHJhd0ltYWdlW10pID0+IHZvaWQ7XHJcbiAgfSB8IG51bGw+O1xyXG59XHJcblxyXG50eXBlIENhbnZhc0FjdGlvbiA9XHJcbiAgfCB7IHR5cGU6IFwicGF0aFwiOyBpZDogc3RyaW5nIH1cclxuICB8IHsgdHlwZTogXCJyZWN0XCI7IGlkOiBzdHJpbmcgfVxyXG4gIHwgeyB0eXBlOiBcImFycm93XCI7IGlkOiBzdHJpbmcgfVxyXG4gIHwgeyB0eXBlOiBcInRleHRcIjsgaWQ6IHN0cmluZyB9XHJcbiAgfCB7IHR5cGU6IFwibm90ZVwiOyBpZDogc3RyaW5nIH1cclxuICB8IHsgdHlwZTogXCJpbWFnZVwiOyBpZDogc3RyaW5nIH07XHJcblxyXG5pbnRlcmZhY2UgRHJhd1BhdGgge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgcG9pbnRzOiBBcnJheTx7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0+O1xyXG4gIHBlblN0eWxlPzogc3RyaW5nO1xyXG4gIGNvbG9yPzogc3RyaW5nO1xyXG4gIGNyZWF0ZWRBdD86IG51bWJlcjsgLy8gVGltZXN0YW1wIHdoZW4gcGF0aCB3YXMgY3JlYXRlZFxyXG4gIGlzTmVvbj86IGJvb2xlYW47IC8vIEZsYWcgZm9yIG5lb24gZWZmZWN0XHJcbn1cclxuXHJcbmludGVyZmFjZSBEcmF3UmVjdCB7XHJcbiAgaWQ6IHN0cmluZztcclxuICB4OiBudW1iZXI7XHJcbiAgeTogbnVtYmVyO1xyXG4gIHdpZHRoOiBudW1iZXI7XHJcbiAgaGVpZ2h0OiBudW1iZXI7XHJcbiAgc2hhcGVUeXBlPzogc3RyaW5nO1xyXG4gIGNvbG9yPzogc3RyaW5nO1xyXG4gIGFycm93QW5nbGU/OiBudW1iZXI7XHJcbn1cclxuXHJcbmludGVyZmFjZSBEcmF3QXJyb3cge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgeDE6IG51bWJlcjtcclxuICB5MTogbnVtYmVyO1xyXG4gIHgyOiBudW1iZXI7XHJcbiAgeTI6IG51bWJlcjtcclxuICBjb2xvcj86IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIERyYXdUZXh0IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIHg6IG51bWJlcjtcclxuICB5OiBudW1iZXI7XHJcbiAgdGV4dDogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRHJhd0ltYWdlIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIHg6IG51bWJlcjtcclxuICB5OiBudW1iZXI7XHJcbiAgc3JjOiBzdHJpbmc7XHJcbiAgd2lkdGg6IG51bWJlcjtcclxuICBoZWlnaHQ6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENhbnZhcyA9ICh7XHJcbiAgc29ja2V0LFxyXG4gIGJvYXJkSWQsXHJcbiAgdXNlcklkLFxyXG4gIGFjdGl2ZVRvb2wsXHJcbiAgb25DbGVhckFsbFJlZixcclxuICBvblVuZG9SZWYsXHJcbiAgb25SZWdpc3RlckFjdGlvblJlZixcclxuICBvbkltYWdlVXBsb2FkUmVmLFxyXG4gIGNhbnZhc1N0YXRlUmVmXHJcbn06IENhbnZhc1Byb3BzKSA9PiB7XHJcbiAgY29uc3QgQk9BUkRfU0laRSA9IDIwMDAwO1xyXG4gIGNvbnN0IEJPQVJEX0NFTlRFUiA9IEJPQVJEX1NJWkUgLyAyO1xyXG4gIGNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IGlzUGFubmluZ1JlZiA9IHVzZVJlZihmYWxzZSk7XHJcbiAgY29uc3QgbGFzdFBvaW50UmVmID0gdXNlUmVmPHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IGlzRHJhd2luZ1JlZiA9IHVzZVJlZihmYWxzZSk7XHJcbiAgY29uc3QgY3VycmVudFBhdGhSZWYgPSB1c2VSZWY8RHJhd1BhdGggfCBudWxsPihudWxsKTtcclxuICBjb25zdCBpc0RyYXdpbmdSZWN0UmVmID0gdXNlUmVmKGZhbHNlKTtcclxuICBjb25zdCBjdXJyZW50UmVjdFJlZiA9IHVzZVJlZjx7IHN0YXJ0WDogbnVtYmVyOyBzdGFydFk6IG51bWJlcjsgZW5kWDogbnVtYmVyOyBlbmRZOiBudW1iZXIgfSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IGlzRHJhd2luZ0Fycm93UmVmID0gdXNlUmVmKGZhbHNlKTtcclxuICBjb25zdCBjdXJyZW50QXJyb3dSZWYgPSB1c2VSZWY8eyB4MTogbnVtYmVyOyB5MTogbnVtYmVyOyB4MjogbnVtYmVyOyB5MjogbnVtYmVyIH0gfCBudWxsPihudWxsKTtcclxuICBjb25zdCBpc1NlbGVjdGluZ1JlZiA9IHVzZVJlZihmYWxzZSk7XHJcbiAgY29uc3QgaXNNb3ZpbmdSZWYgPSB1c2VSZWYoZmFsc2UpO1xyXG4gIGNvbnN0IG1vdmVTdGFydFBvaW50UmVmID0gdXNlUmVmPHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IG9yaWdpbmFsTm90ZVBvc2l0aW9uc1JlZiA9IHVzZVJlZjxNYXA8c3RyaW5nLCB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0+PihuZXcgTWFwKCkpO1xyXG4gIGNvbnN0IHNlbGVjdGVkTm90ZUlkc1JlZiA9IHVzZVJlZjxTZXQ8c3RyaW5nPj4obmV3IFNldCgpKTtcclxuICBjb25zdCBpc0RyYWdnaW5nSW1hZ2VSZWYgPSB1c2VSZWYoZmFsc2UpO1xyXG4gIGNvbnN0IGRyYWdnZWRJbWFnZUlkUmVmID0gdXNlUmVmPHN0cmluZyB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IGltYWdlRHJhZ1N0YXJ0UmVmID0gdXNlUmVmPHsgeDogbnVtYmVyOyB5OiBudW1iZXI7IGltYWdlWDogbnVtYmVyOyBpbWFnZVk6IG51bWJlciB9IHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3Qgbm90ZXMgPSB1c2VCb2FyZFN0b3JlKChzdGF0ZSkgPT4gc3RhdGUubm90ZXMpO1xyXG4gIGNvbnN0IGFkZE5vdGUgPSB1c2VCb2FyZFN0b3JlKChzdGF0ZSkgPT4gc3RhdGUuYWRkTm90ZSk7XHJcbiAgY29uc3QgdXBkYXRlTm90ZSA9IHVzZUJvYXJkU3RvcmUoKHN0YXRlKSA9PiBzdGF0ZS51cGRhdGVOb3RlKTtcclxuICBjb25zdCBkZWxldGVOb3RlID0gdXNlQm9hcmRTdG9yZSgoc3RhdGUpID0+IHN0YXRlLmRlbGV0ZU5vdGUpO1xyXG4gIGNvbnN0IHN0aWNreUNvbG9yID0gdXNlVUlTdG9yZSgoc3RhdGUpID0+IHN0YXRlLnN0aWNreUNvbG9yKTtcclxuICBjb25zdCBzaGFwZVR5cGUgPSB1c2VVSVN0b3JlKChzdGF0ZSkgPT4gc3RhdGUuc2hhcGVUeXBlKTtcclxuICBjb25zdCBwZW5TdHlsZSA9IHVzZVVJU3RvcmUoKHN0YXRlKSA9PiBzdGF0ZS5wZW5TdHlsZSk7XHJcbiAgY29uc3QgcGVuQ29sb3IgPSB1c2VVSVN0b3JlKChzdGF0ZSkgPT4gc3RhdGUucGVuQ29sb3IpO1xyXG4gIGNvbnN0IHNoYXBlQ29sb3IgPSB1c2VVSVN0b3JlKChzdGF0ZSkgPT4gc3RhdGUuc2hhcGVDb2xvcik7XHJcbiAgY29uc3QgeyBzdGF0ZSwgdHJhbnNmb3JtLCBwYW4sIHpvb20gfSA9IHVzZVBhblpvb20oKTtcclxuXHJcbiAgLy8gRXhwb3NlIGNsZWFyL3VuZG8vcmVnaXN0ZXIgZnVuY3Rpb25zIGFuZCBzdGF0ZSBzZXR0ZXJzIHRvIHBhcmVudFxyXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAob25DbGVhckFsbFJlZikge1xyXG4gICAgICBvbkNsZWFyQWxsUmVmLmN1cnJlbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJbQ2FudmFzXSBDbGVhcmluZyBhbGwgZHJhd2luZ3NcIik7XHJcbiAgICAgICAgc2V0UGF0aHMoW10pO1xyXG4gICAgICAgIHNldFJlY3RzKFtdKTtcclxuICAgICAgICBzZXRBcnJvd3MoW10pO1xyXG4gICAgICAgIHNldFRleHRzKFtdKTtcclxuICAgICAgICBzZXRTZWxlY3RlZE5vdGVJZHMobmV3IFNldCgpKTtcclxuICAgICAgICBzZXRBZGRpbmdUZXh0KG51bGwpO1xyXG4gICAgICAgIGFjdGlvblN0YWNrUmVmLmN1cnJlbnQgPSBbXTtcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIGlmIChvblJlZ2lzdGVyQWN0aW9uUmVmKSB7XHJcbiAgICAgIG9uUmVnaXN0ZXJBY3Rpb25SZWYuY3VycmVudCA9IChhY3Rpb24pID0+IHtcclxuICAgICAgICBhY3Rpb25TdGFja1JlZi5jdXJyZW50LnB1c2goYWN0aW9uKTtcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIGlmIChvblVuZG9SZWYpIHtcclxuICAgICAgb25VbmRvUmVmLmN1cnJlbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgYWN0aW9uID0gYWN0aW9uU3RhY2tSZWYuY3VycmVudC5wb3AoKTtcclxuICAgICAgICBpZiAoIWFjdGlvbikgcmV0dXJuO1xyXG4gICAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gXCJwYXRoXCIpIHtcclxuICAgICAgICAgIHNldFBhdGhzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigocCkgPT4gcC5pZCAhPT0gYWN0aW9uLmlkKSk7XHJcbiAgICAgICAgICBzb2NrZXQuZW1pdChcImJvYXJkOnBhdGg6ZGVsZXRlXCIsIHsgYm9hcmRJZCwgaWQ6IGFjdGlvbi5pZCB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbi50eXBlID09PSBcInJlY3RcIikge1xyXG4gICAgICAgICAgc2V0UmVjdHMoKHByZXYpID0+IHByZXYuZmlsdGVyKChyKSA9PiByLmlkICE9PSBhY3Rpb24uaWQpKTtcclxuICAgICAgICAgIHNvY2tldC5lbWl0KFwiYm9hcmQ6cmVjdDpkZWxldGVcIiwgeyBib2FyZElkLCBpZDogYWN0aW9uLmlkIH0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uLnR5cGUgPT09IFwiYXJyb3dcIikge1xyXG4gICAgICAgICAgc2V0QXJyb3dzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoYSkgPT4gYS5pZCAhPT0gYWN0aW9uLmlkKSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24udHlwZSA9PT0gXCJ0ZXh0XCIpIHtcclxuICAgICAgICAgIHNldFRleHRzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigodCkgPT4gdC5pZCAhPT0gYWN0aW9uLmlkKSk7XHJcbiAgICAgICAgICBzb2NrZXQuZW1pdChcImJvYXJkOnRleHQ6ZGVsZXRlXCIsIHsgYm9hcmRJZCwgaWQ6IGFjdGlvbi5pZCB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbi50eXBlID09PSBcIm5vdGVcIikge1xyXG4gICAgICAgICAgZGVsZXRlTm90ZShhY3Rpb24uaWQpO1xyXG4gICAgICAgICAgc29ja2V0LmVtaXQoXCJib2FyZDpub3RlOmRlbGV0ZVwiLCB7IGJvYXJkSWQsIGlkOiBhY3Rpb24uaWQgfSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24udHlwZSA9PT0gXCJpbWFnZVwiKSB7XHJcbiAgICAgICAgICBzZXRJbWFnZXMoKHByZXYpID0+IHByZXYuZmlsdGVyKChpbWcpID0+IGltZy5pZCAhPT0gYWN0aW9uLmlkKSk7XHJcbiAgICAgICAgICBzb2NrZXQuZW1pdChcImJvYXJkOmltYWdlOmRlbGV0ZVwiLCB7IGJvYXJkSWQsIGlkOiBhY3Rpb24uaWQgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgaWYgKGNhbnZhc1N0YXRlUmVmKSB7XHJcbiAgICAgIGNhbnZhc1N0YXRlUmVmLmN1cnJlbnQgPSB7XHJcbiAgICAgICAgc2V0UGF0aHMsXHJcbiAgICAgICAgc2V0UmVjdHMsXHJcbiAgICAgICAgc2V0VGV4dHMsXHJcbiAgICAgICAgc2V0SW1hZ2VzXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfSwgW29uQ2xlYXJBbGxSZWYsIG9uVW5kb1JlZiwgb25SZWdpc3RlckFjdGlvblJlZiwgY2FudmFzU3RhdGVSZWYsIGJvYXJkSWQsIGRlbGV0ZU5vdGUsIHNvY2tldF0pO1xyXG5cclxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGNvbnRhaW5lclJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNvbnN0IHJlY3QgPSBjb250YWluZXJSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgcGFuKHJlY3Qud2lkdGggLyAyIC0gQk9BUkRfQ0VOVEVSLCByZWN0LmhlaWdodCAvIDIgLSBCT0FSRF9DRU5URVIpO1xyXG4gICAgfVxyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gU29ja2V0IGxpc3RlbmVycyBmb3IgZHJhd2luZyBkZWxldGlvbnMgYW5kIHVwZGF0ZXNcclxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJbQ2FudmFzXSBTZXR0aW5nIHVwIHNvY2tldCBsaXN0ZW5lcnMgZm9yIHNvY2tldDpcIiwgc29ja2V0LmlkKTtcclxuXHJcbiAgICBjb25zdCBoYW5kbGVQYXRoQ3JlYXRlZCA9ICh7IHBhdGggfTogYW55KSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiW0NhbnZhc10gUmVjZWl2ZWQgcGF0aDpjcmVhdGVkIGV2ZW50XCIsIHBhdGguaWQpO1xyXG4gICAgICBzZXRQYXRocygocHJldikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiW0NhbnZhc10gQ3VycmVudCBwYXRocyBiZWZvcmUgYWRkOlwiLCBwcmV2Lmxlbmd0aCk7XHJcbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi5wcmV2LCBwYXRoXTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIltDYW52YXNdIFVwZGF0ZWQgcGF0aHMgYWZ0ZXIgYWRkOlwiLCB1cGRhdGVkLmxlbmd0aCk7XHJcbiAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBoYW5kbGVQYXRoVXBkYXRlZCA9ICh7IHBhdGggfTogYW55KSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiW0NhbnZhc10gUmVjZWl2ZWQgcGF0aDp1cGRhdGVkIGV2ZW50XCIsIHBhdGguaWQpO1xyXG4gICAgICBzZXRQYXRocygocHJldikgPT5cclxuICAgICAgICBwcmV2Lm1hcCgocCkgPT4gKHAuaWQgPT09IHBhdGguaWQgPyBwYXRoIDogcCkpXHJcbiAgICAgICk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGhhbmRsZVBhdGhEZWxldGVkID0gKHsgaWQgfTogYW55KSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiW0NhbnZhc10gUmVjZWl2ZWQgcGF0aDpkZWxldGVkIGV2ZW50XCIsIGlkKTtcclxuICAgICAgc2V0UGF0aHMoKHByZXYpID0+IHByZXYuZmlsdGVyKChwKSA9PiBwLmlkICE9PSBpZCkpO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBoYW5kbGVSZWN0Q3JlYXRlZCA9ICh7IHJlY3QgfTogYW55KSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiW0NhbnZhc10gUmVjZWl2ZWQgcmVjdDpjcmVhdGVkIGV2ZW50XCIsIHJlY3QuaWQpO1xyXG4gICAgICBzZXRSZWN0cygocHJldikgPT4gWy4uLnByZXYsIHJlY3RdKTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgaGFuZGxlUmVjdFVwZGF0ZWQgPSAoeyByZWN0IH06IGFueSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIltDYW52YXNdIFJlY2VpdmVkIHJlY3Q6dXBkYXRlZCBldmVudFwiLCByZWN0LmlkKTtcclxuICAgICAgc2V0UmVjdHMoKHByZXYpID0+XHJcbiAgICAgICAgcHJldi5tYXAoKHIpID0+IChyLmlkID09PSByZWN0LmlkID8gcmVjdCA6IHIpKVxyXG4gICAgICApO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBoYW5kbGVSZWN0RGVsZXRlZCA9ICh7IGlkIH06IGFueSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIltDYW52YXNdIFJlY2VpdmVkIHJlY3Q6ZGVsZXRlZCBldmVudFwiLCBpZCk7XHJcbiAgICAgIHNldFJlY3RzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigocikgPT4gci5pZCAhPT0gaWQpKTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgaGFuZGxlVGV4dERlbGV0ZWQgPSAoeyBpZCB9OiBhbnkpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coXCJbQ2FudmFzXSBSZWNlaXZlZCB0ZXh0OmRlbGV0ZWQgZXZlbnRcIiwgaWQpO1xyXG4gICAgICBzZXRUZXh0cygocHJldikgPT4gcHJldi5maWx0ZXIoKHQpID0+IHQuaWQgIT09IGlkKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGhhbmRsZUltYWdlQ3JlYXRlZCA9ICh7IGltYWdlIH06IGFueSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIltDYW52YXNdIFJlY2VpdmVkIGltYWdlOmNyZWF0ZWQgZXZlbnRcIiwgaW1hZ2UuaWQpO1xyXG4gICAgICBzZXRJbWFnZXMoKHByZXYpID0+IFsuLi5wcmV2LCBpbWFnZV0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBoYW5kbGVJbWFnZVVwZGF0ZWQgPSAoeyBpbWFnZSB9OiBhbnkpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coXCJbQ2FudmFzXSBSZWNlaXZlZCBpbWFnZTp1cGRhdGVkIGV2ZW50XCIsIGltYWdlLmlkKTtcclxuICAgICAgc2V0SW1hZ2VzKChwcmV2KSA9PiBwcmV2Lm1hcCgoaW1nKSA9PiAoaW1nLmlkID09PSBpbWFnZS5pZCA/IGltYWdlIDogaW1nKSkpO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBoYW5kbGVJbWFnZURlbGV0ZWQgPSAoeyBpZCB9OiBhbnkpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coXCJbQ2FudmFzXSBSZWNlaXZlZCBpbWFnZTpkZWxldGVkIGV2ZW50XCIsIGlkKTtcclxuICAgICAgc2V0SW1hZ2VzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoaW1nKSA9PiBpbWcuaWQgIT09IGlkKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGhhbmRsZUNsZWFyZWQgPSAoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiW0NhbnZhc10gUmVjZWl2ZWQgYm9hcmQ6Y2xlYXJlZCBldmVudFwiKTtcclxuICAgICAgc2V0UGF0aHMoW10pO1xyXG4gICAgICBzZXRSZWN0cyhbXSk7XHJcbiAgICAgIHNldFRleHRzKFtdKTtcclxuICAgICAgc2V0QXJyb3dzKFtdKTtcclxuICAgICAgc2V0SW1hZ2VzKFtdKTtcclxuICAgICAgYWN0aW9uU3RhY2tSZWYuY3VycmVudCA9IFtdO1xyXG4gICAgfTtcclxuXHJcbiAgICBzb2NrZXQub24oXCJib2FyZDpwYXRoOmNyZWF0ZWRcIiwgaGFuZGxlUGF0aENyZWF0ZWQpO1xyXG4gICAgc29ja2V0Lm9uKFwiYm9hcmQ6cGF0aDp1cGRhdGVkXCIsIGhhbmRsZVBhdGhVcGRhdGVkKTtcclxuICAgIHNvY2tldC5vbihcImJvYXJkOnBhdGg6ZGVsZXRlZFwiLCBoYW5kbGVQYXRoRGVsZXRlZCk7XHJcbiAgICBzb2NrZXQub24oXCJib2FyZDpyZWN0OmNyZWF0ZWRcIiwgaGFuZGxlUmVjdENyZWF0ZWQpO1xyXG4gICAgc29ja2V0Lm9uKFwiYm9hcmQ6cmVjdDp1cGRhdGVkXCIsIGhhbmRsZVJlY3RVcGRhdGVkKTtcclxuICAgIHNvY2tldC5vbihcImJvYXJkOnJlY3Q6ZGVsZXRlZFwiLCBoYW5kbGVSZWN0RGVsZXRlZCk7XHJcbiAgICBzb2NrZXQub24oXCJib2FyZDp0ZXh0OmRlbGV0ZWRcIiwgaGFuZGxlVGV4dERlbGV0ZWQpO1xyXG4gICAgc29ja2V0Lm9uKFwiYm9hcmQ6aW1hZ2U6Y3JlYXRlZFwiLCBoYW5kbGVJbWFnZUNyZWF0ZWQpO1xyXG4gICAgc29ja2V0Lm9uKFwiYm9hcmQ6aW1hZ2U6dXBkYXRlZFwiLCBoYW5kbGVJbWFnZVVwZGF0ZWQpO1xyXG4gICAgc29ja2V0Lm9uKFwiYm9hcmQ6aW1hZ2U6ZGVsZXRlZFwiLCBoYW5kbGVJbWFnZURlbGV0ZWQpO1xyXG4gICAgc29ja2V0Lm9uKFwiYm9hcmQ6Y2xlYXJlZFwiLCBoYW5kbGVDbGVhcmVkKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIltDYW52YXNdIFNvY2tldCBsaXN0ZW5lcnMgYXR0YWNoZWRcIik7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coXCJbQ2FudmFzXSBDbGVhbmluZyB1cCBzb2NrZXQgbGlzdGVuZXJzXCIpO1xyXG4gICAgICBzb2NrZXQub2ZmKFwiYm9hcmQ6cGF0aDpjcmVhdGVkXCIsIGhhbmRsZVBhdGhDcmVhdGVkKTtcclxuICAgICAgc29ja2V0Lm9mZihcImJvYXJkOnBhdGg6dXBkYXRlZFwiLCBoYW5kbGVQYXRoVXBkYXRlZCk7XHJcbiAgICAgIHNvY2tldC5vZmYoXCJib2FyZDpwYXRoOmRlbGV0ZWRcIiwgaGFuZGxlUGF0aERlbGV0ZWQpO1xyXG4gICAgICBzb2NrZXQub2ZmKFwiYm9hcmQ6cmVjdDpjcmVhdGVkXCIsIGhhbmRsZVJlY3RDcmVhdGVkKTtcclxuICAgICAgc29ja2V0Lm9mZihcImJvYXJkOnJlY3Q6dXBkYXRlZFwiLCBoYW5kbGVSZWN0VXBkYXRlZCk7XHJcbiAgICAgIHNvY2tldC5vZmYoXCJib2FyZDpyZWN0OmRlbGV0ZWRcIiwgaGFuZGxlUmVjdERlbGV0ZWQpO1xyXG4gICAgICBzb2NrZXQub2ZmKFwiYm9hcmQ6dGV4dDpkZWxldGVkXCIsIGhhbmRsZVRleHREZWxldGVkKTtcclxuICAgICAgc29ja2V0Lm9mZihcImJvYXJkOmltYWdlOmNyZWF0ZWRcIiwgaGFuZGxlSW1hZ2VDcmVhdGVkKTtcclxuICAgICAgc29ja2V0Lm9mZihcImJvYXJkOmltYWdlOnVwZGF0ZWRcIiwgaGFuZGxlSW1hZ2VVcGRhdGVkKTtcclxuICAgICAgc29ja2V0Lm9mZihcImJvYXJkOmltYWdlOmRlbGV0ZWRcIiwgaGFuZGxlSW1hZ2VEZWxldGVkKTtcclxuICAgICAgc29ja2V0Lm9mZihcImJvYXJkOmNsZWFyZWRcIiwgaGFuZGxlQ2xlYXJlZCk7XHJcbiAgICB9O1xyXG4gIH0sIFtzb2NrZXRdKTtcclxuXHJcbiAgLy8gQ2xlYW51cCBleHBpcmVkIG5lb24gcGF0aHNcclxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgZmFkZU91dER1cmF0aW9uID0gMTUwMDsgLy8gMS41IHNlY29uZHNcclxuICAgIGNvbnN0IGNsZWFudXBJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgc2V0UGF0aHMoKHByZXYpID0+IFxyXG4gICAgICAgIHByZXYuZmlsdGVyKChwYXRoKSA9PiB7XHJcbiAgICAgICAgICBpZiAoIXBhdGguaXNOZW9uIHx8ICFwYXRoLmNyZWF0ZWRBdCkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICByZXR1cm4gKG5vdyAtIHBhdGguY3JlYXRlZEF0KSA8PSBmYWRlT3V0RHVyYXRpb247XHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgIH0sIDEwMCk7IC8vIENoZWNrIGV2ZXJ5IDEwMG1zXHJcblxyXG4gICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoY2xlYW51cEludGVydmFsKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IFtwYXRocywgc2V0UGF0aHNdID0gdXNlU3RhdGU8RHJhd1BhdGhbXT4oW10pO1xyXG4gIGNvbnN0IFtyZWN0cywgc2V0UmVjdHNdID0gdXNlU3RhdGU8RHJhd1JlY3RbXT4oW10pO1xyXG4gIGNvbnN0IFthcnJvd3MsIHNldEFycm93c10gPSB1c2VTdGF0ZTxEcmF3QXJyb3dbXT4oW10pO1xyXG4gIGNvbnN0IFt0ZXh0cywgc2V0VGV4dHNdID0gdXNlU3RhdGU8RHJhd1RleHRbXT4oW10pO1xyXG4gIGNvbnN0IFtpbWFnZXMsIHNldEltYWdlc10gPSB1c2VTdGF0ZTxEcmF3SW1hZ2VbXT4oW10pO1xyXG4gIGNvbnN0IFthZGRpbmdUZXh0LCBzZXRBZGRpbmdUZXh0XSA9IHVzZVN0YXRlPHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtzZWxlY3RlZE5vdGVJZHMsIHNldFNlbGVjdGVkTm90ZUlkc10gPSB1c2VTdGF0ZTxTZXQ8c3RyaW5nPj4obmV3IFNldCgpKTtcclxuICBjb25zdCB0ZXh0SW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudCB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IGFjdGlvblN0YWNrUmVmID0gdXNlUmVmPENhbnZhc0FjdGlvbltdPihbXSk7XHJcblxyXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjaGVjayBpZiBhIHBvaW50IGlzIHdpdGhpbiBhIG5vdGUncyBib3VuZHMgKG5vdGUgd2lkdGggaXMgfjE5MnB4LCBoZWlnaHQgfjk2cHgpXHJcbiAgY29uc3QgaXNQb2ludEluTm90ZSA9ICh4OiBudW1iZXIsIHk6IG51bWJlciwgbm90ZTogdHlwZW9mIG5vdGVzWzBdKTogYm9vbGVhbiA9PiB7XHJcbiAgICBjb25zdCBub3RlV2lkdGggPSAxOTI7IC8vIHctNDggPSAxMnJlbSA9IDE5MnB4XHJcbiAgICBjb25zdCBub3RlSGVpZ2h0ID0gOTY7IC8vIGgtMjQgPSA2cmVtID0gOTZweFxyXG4gICAgcmV0dXJuIHggPj0gbm90ZS54ICYmIHggPD0gbm90ZS54ICsgbm90ZVdpZHRoICYmIHkgPj0gbm90ZS55ICYmIHkgPD0gbm90ZS55ICsgbm90ZUhlaWdodDtcclxuICB9O1xyXG5cclxuICBjb25zdCByZWdpc3RlckFjdGlvbiA9IChhY3Rpb246IENhbnZhc0FjdGlvbikgPT4ge1xyXG4gICAgYWN0aW9uU3RhY2tSZWYuY3VycmVudC5wdXNoKGFjdGlvbik7XHJcbiAgfTtcclxuXHJcbiAgLy8gSW1hZ2UgdXBsb2FkIGhhbmRsZXJcclxuICBjb25zdCBoYW5kbGVJbWFnZVVwbG9hZCA9IChmaWxlOiBGaWxlKSA9PiB7XHJcbiAgICBpZiAoIWZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIGZpbGUgdHlwZScpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgIHJlYWRlci5vbmxvYWQgPSAoZSkgPT4ge1xyXG4gICAgICBjb25zdCBzcmMgPSBlLnRhcmdldD8ucmVzdWx0IGFzIHN0cmluZztcclxuICAgICAgaWYgKCFzcmMpIHJldHVybjtcclxuXHJcbiAgICAgIC8vIENyZWF0ZSBhbiBpbWFnZSBlbGVtZW50IHRvIGdldCBkaW1lbnNpb25zXHJcbiAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJlY3QgPSBjb250YWluZXJSZWYuY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgaWYgKCFyZWN0KSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSBtYXggZGltZW5zaW9ucyAobWF4IDQwMHB4IHdpZHRoIG9yIGhlaWdodClcclxuICAgICAgICBjb25zdCBtYXhTaXplID0gNDAwO1xyXG4gICAgICAgIGxldCB3aWR0aCA9IGltZy53aWR0aDtcclxuICAgICAgICBsZXQgaGVpZ2h0ID0gaW1nLmhlaWdodDtcclxuXHJcbiAgICAgICAgaWYgKHdpZHRoID4gbWF4U2l6ZSB8fCBoZWlnaHQgPiBtYXhTaXplKSB7XHJcbiAgICAgICAgICBpZiAod2lkdGggPiBoZWlnaHQpIHtcclxuICAgICAgICAgICAgaGVpZ2h0ID0gKGhlaWdodCAvIHdpZHRoKSAqIG1heFNpemU7XHJcbiAgICAgICAgICAgIHdpZHRoID0gbWF4U2l6ZTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdpZHRoID0gKHdpZHRoIC8gaGVpZ2h0KSAqIG1heFNpemU7XHJcbiAgICAgICAgICAgIGhlaWdodCA9IG1heFNpemU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBQbGFjZSBpbWFnZSBhdCBjZW50ZXIgb2Ygdmlld3BvcnRcclxuICAgICAgICBjb25zdCB2aWV3cG9ydENlbnRlclggPSAocmVjdC53aWR0aCAvIDIgLSBzdGF0ZS54KSAvIHN0YXRlLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IHZpZXdwb3J0Q2VudGVyWSA9IChyZWN0LmhlaWdodCAvIDIgLSBzdGF0ZS55KSAvIHN0YXRlLnNjYWxlO1xyXG5cclxuICAgICAgICBjb25zdCBuZXdJbWFnZTogRHJhd0ltYWdlID0ge1xyXG4gICAgICAgICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXHJcbiAgICAgICAgICB4OiB2aWV3cG9ydENlbnRlclggLSB3aWR0aCAvIDIsXHJcbiAgICAgICAgICB5OiB2aWV3cG9ydENlbnRlclkgLSBoZWlnaHQgLyAyLFxyXG4gICAgICAgICAgc3JjLFxyXG4gICAgICAgICAgd2lkdGgsXHJcbiAgICAgICAgICBoZWlnaHRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZXRJbWFnZXMoKHByZXYpID0+IFsuLi5wcmV2LCBuZXdJbWFnZV0pO1xyXG4gICAgICAgIHJlZ2lzdGVyQWN0aW9uKHsgdHlwZTogJ2ltYWdlJywgaWQ6IG5ld0ltYWdlLmlkIH0pO1xyXG4gICAgICAgIHNvY2tldC5lbWl0KCdib2FyZDppbWFnZTpjcmVhdGUnLCB7IGJvYXJkSWQsIGltYWdlOiBuZXdJbWFnZSB9KTtcclxuICAgICAgfTtcclxuICAgICAgaW1nLnNyYyA9IHNyYztcclxuICAgIH07XHJcbiAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICB9O1xyXG5cclxuICAvLyBFeHBvc2UgaW1hZ2UgdXBsb2FkIGhhbmRsZXJcclxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKG9uSW1hZ2VVcGxvYWRSZWYpIHtcclxuICAgICAgb25JbWFnZVVwbG9hZFJlZi5jdXJyZW50ID0gaGFuZGxlSW1hZ2VVcGxvYWQ7XHJcbiAgICB9XHJcbiAgfSwgW29uSW1hZ2VVcGxvYWRSZWYsIHN0YXRlLngsIHN0YXRlLnksIHN0YXRlLnNjYWxlXSk7XHJcblxyXG5cclxuICAvLyBDaGVjayBpZiBwb2ludCBpcyBuZWFyIGEgcGF0aCAod2l0aGluIHRocmVzaG9sZCBkaXN0YW5jZSlcclxuICBjb25zdCBpc1BvaW50TmVhclBhdGggPSAoeDogbnVtYmVyLCB5OiBudW1iZXIsIHBhdGg6IERyYXdQYXRoLCB0aHJlc2hvbGQgPSAxMCk6IGJvb2xlYW4gPT4ge1xyXG4gICAgcmV0dXJuIHBhdGgucG9pbnRzLnNvbWUoKHBvaW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KE1hdGgucG93KHBvaW50LnggLSB4LCAyKSArIE1hdGgucG93KHBvaW50LnkgLSB5LCAyKSk7XHJcbiAgICAgIHJldHVybiBkaXN0YW5jZSA8PSB0aHJlc2hvbGQ7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvLyBDaGVjayBpZiBwb2ludCBpcyB3aXRoaW4gYSByZWN0YW5nbGVcclxuICBjb25zdCBpc1BvaW50SW5SZWN0ID0gKHg6IG51bWJlciwgeTogbnVtYmVyLCByZWN0OiBEcmF3UmVjdCk6IGJvb2xlYW4gPT4ge1xyXG4gICAgcmV0dXJuIHggPj0gcmVjdC54ICYmIHggPD0gcmVjdC54ICsgcmVjdC53aWR0aCAmJiB5ID49IHJlY3QueSAmJiB5IDw9IHJlY3QueSArIHJlY3QuaGVpZ2h0O1xyXG4gIH07XHJcblxyXG4gIC8vIENoZWNrIGlmIHBvaW50IGlzIG5lYXIgdGV4dCAod2l0aGluIGJvdW5kaW5nIGJveClcclxuICBjb25zdCBpc1BvaW50TmVhclRleHQgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIsIHRleHQ6IERyYXdUZXh0KTogYm9vbGVhbiA9PiB7XHJcbiAgICBjb25zdCB0ZXh0V2lkdGggPSB0ZXh0LnRleHQubGVuZ3RoICogMTA7IC8vIEFwcHJveGltYXRlIHdpZHRoXHJcbiAgICBjb25zdCB0ZXh0SGVpZ2h0ID0gMjA7IC8vIEFwcHJveGltYXRlIGhlaWdodFxyXG4gICAgcmV0dXJuIHggPj0gdGV4dC54ICYmIHggPD0gdGV4dC54ICsgdGV4dFdpZHRoICYmIHkgPj0gdGV4dC55IC0gdGV4dEhlaWdodCAmJiB5IDw9IHRleHQueTtcclxuICB9O1xyXG5cclxuICAvLyBDaGVjayBpZiBwb2ludCBpcyB3aXRoaW4gYW4gaW1hZ2VcclxuICBjb25zdCBpc1BvaW50SW5JbWFnZSA9ICh4OiBudW1iZXIsIHk6IG51bWJlciwgaW1hZ2U6IERyYXdJbWFnZSk6IGJvb2xlYW4gPT4ge1xyXG4gICAgcmV0dXJuIHggPj0gaW1hZ2UueCAmJiB4IDw9IGltYWdlLnggKyBpbWFnZS53aWR0aCAmJiB5ID49IGltYWdlLnkgJiYgeSA8PSBpbWFnZS55ICsgaW1hZ2UuaGVpZ2h0O1xyXG4gIH07XHJcblxyXG4gIC8vIEhhbmRsZSBpbWFnZSBkcmFnIHN0YXJ0XHJcbiAgY29uc3QgaGFuZGxlSW1hZ2VQb2ludGVyRG93biA9IChldmVudDogUmVhY3QuUG9pbnRlckV2ZW50LCBpbWFnZUlkOiBzdHJpbmcpID0+IHtcclxuICAgIGlmIChhY3RpdmVUb29sICE9PSBcIlNFTEVDVFwiKSByZXR1cm47XHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGNvbnN0IHJlY3QgPSBjb250YWluZXJSZWYuY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBpZiAoIXJlY3QpIHJldHVybjtcclxuICAgIGNvbnN0IHggPSAoZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCAtIHN0YXRlLngpIC8gc3RhdGUuc2NhbGU7XHJcbiAgICBjb25zdCB5ID0gKGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcCAtIHN0YXRlLnkpIC8gc3RhdGUuc2NhbGU7XHJcbiAgICBjb25zdCBpbWFnZSA9IGltYWdlcy5maW5kKGltZyA9PiBpbWcuaWQgPT09IGltYWdlSWQpO1xyXG4gICAgaWYgKCFpbWFnZSkgcmV0dXJuO1xyXG5cclxuICAgIGlzRHJhZ2dpbmdJbWFnZVJlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgIGRyYWdnZWRJbWFnZUlkUmVmLmN1cnJlbnQgPSBpbWFnZUlkO1xyXG4gICAgaW1hZ2VEcmFnU3RhcnRSZWYuY3VycmVudCA9IHsgeCwgeSwgaW1hZ2VYOiBpbWFnZS54LCBpbWFnZVk6IGltYWdlLnkgfTtcclxuICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuc2V0UG9pbnRlckNhcHR1cmUoZXZlbnQucG9pbnRlcklkKTtcclxuICB9O1xyXG5cclxuICAvLyBIYW5kbGUgaW1hZ2UgZHJhZyBtb3ZlXHJcbiAgY29uc3QgaGFuZGxlSW1hZ2VQb2ludGVyTW92ZSA9IChldmVudDogUmVhY3QuUG9pbnRlckV2ZW50KSA9PiB7XHJcbiAgICBpZiAoIWlzRHJhZ2dpbmdJbWFnZVJlZi5jdXJyZW50IHx8ICFpbWFnZURyYWdTdGFydFJlZi5jdXJyZW50IHx8ICFkcmFnZ2VkSW1hZ2VJZFJlZi5jdXJyZW50KSByZXR1cm47XHJcbiAgICBjb25zdCByZWN0ID0gY29udGFpbmVyUmVmLmN1cnJlbnQ/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgaWYgKCFyZWN0KSByZXR1cm47XHJcbiAgICBjb25zdCB4ID0gKGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQgLSBzdGF0ZS54KSAvIHN0YXRlLnNjYWxlO1xyXG4gICAgY29uc3QgeSA9IChldmVudC5jbGllbnRZIC0gcmVjdC50b3AgLSBzdGF0ZS55KSAvIHN0YXRlLnNjYWxlO1xyXG4gICAgXHJcbiAgICBjb25zdCBkeCA9IHggLSBpbWFnZURyYWdTdGFydFJlZi5jdXJyZW50Lng7XHJcbiAgICBjb25zdCBkeSA9IHkgLSBpbWFnZURyYWdTdGFydFJlZi5jdXJyZW50Lnk7XHJcbiAgICBjb25zdCBuZXdYID0gaW1hZ2VEcmFnU3RhcnRSZWYuY3VycmVudC5pbWFnZVggKyBkeDtcclxuICAgIGNvbnN0IG5ld1kgPSBpbWFnZURyYWdTdGFydFJlZi5jdXJyZW50LmltYWdlWSArIGR5O1xyXG5cclxuICAgIHNldEltYWdlcyhwcmV2ID0+IHByZXYubWFwKGltZyA9PiBcclxuICAgICAgaW1nLmlkID09PSBkcmFnZ2VkSW1hZ2VJZFJlZi5jdXJyZW50IFxyXG4gICAgICAgID8geyAuLi5pbWcsIHg6IG5ld1gsIHk6IG5ld1kgfVxyXG4gICAgICAgIDogaW1nXHJcbiAgICApKTtcclxuXHJcbiAgICBzb2NrZXQuZW1pdChcImJvYXJkOmltYWdlOnVwZGF0ZVwiLCB7IFxyXG4gICAgICBib2FyZElkLCBcclxuICAgICAgaW1hZ2U6IHsgXHJcbiAgICAgICAgLi4uaW1hZ2VzLmZpbmQoaW1nID0+IGltZy5pZCA9PT0gZHJhZ2dlZEltYWdlSWRSZWYuY3VycmVudCksXHJcbiAgICAgICAgeDogbmV3WCwgXHJcbiAgICAgICAgeTogbmV3WSBcclxuICAgICAgfSBcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8vIEhhbmRsZSBpbWFnZSBkcmFnIGVuZFxyXG4gIGNvbnN0IGhhbmRsZUltYWdlUG9pbnRlclVwID0gKGV2ZW50OiBSZWFjdC5Qb2ludGVyRXZlbnQpID0+IHtcclxuICAgIGlmIChpc0RyYWdnaW5nSW1hZ2VSZWYuY3VycmVudCkge1xyXG4gICAgICBpc0RyYWdnaW5nSW1hZ2VSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICBkcmFnZ2VkSW1hZ2VJZFJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgaW1hZ2VEcmFnU3RhcnRSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZW1pdEN1cnNvciA9IHVzZU1lbW8oXHJcbiAgICAoKSA9PlxyXG4gICAgICBkZWJvdW5jZSgoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IHtcclxuICAgICAgICBzb2NrZXQuZW1pdChcInByZXNlbmNlOmN1cnNvclwiLCB7IGJvYXJkSWQsIHVzZXJJZCwgcG9zaXRpb246IHsgeCwgeSB9IH0pO1xyXG4gICAgICB9LCAzMCksXHJcbiAgICBbYm9hcmRJZCwgc29ja2V0LCB1c2VySWRdXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlUG9pbnRlck1vdmUgPSAoZXZlbnQ6IFJlYWN0LlBvaW50ZXJFdmVudCkgPT4ge1xyXG4gICAgY29uc3QgcmVjdCA9IGNvbnRhaW5lclJlZi5jdXJyZW50Py5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGlmICghcmVjdCkgcmV0dXJuO1xyXG4gICAgZW1pdEN1cnNvcihldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0LCBldmVudC5jbGllbnRZIC0gcmVjdC50b3ApO1xyXG5cclxuICAgIGlmIChhY3RpdmVUb29sID09PSBcIlBBTlwiICYmIGlzUGFubmluZ1JlZi5jdXJyZW50ICYmIGxhc3RQb2ludFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNvbnN0IGR4ID0gZXZlbnQubW92ZW1lbnRYIHx8IGV2ZW50LmNsaWVudFggLSBsYXN0UG9pbnRSZWYuY3VycmVudC54O1xyXG4gICAgICBjb25zdCBkeSA9IGV2ZW50Lm1vdmVtZW50WSB8fCBldmVudC5jbGllbnRZIC0gbGFzdFBvaW50UmVmLmN1cnJlbnQueTtcclxuICAgICAgcGFuKGR4LCBkeSk7XHJcbiAgICAgIGxhc3RQb2ludFJlZi5jdXJyZW50ID0geyB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZIH07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFjdGl2ZVRvb2wgPT09IFwiU0VMRUNUXCIgJiYgaXNNb3ZpbmdSZWYuY3VycmVudCAmJiBtb3ZlU3RhcnRQb2ludFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNvbnN0IHggPSAoZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCAtIHN0YXRlLngpIC8gc3RhdGUuc2NhbGU7XHJcbiAgICAgIGNvbnN0IHkgPSAoZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wIC0gc3RhdGUueSkgLyBzdGF0ZS5zY2FsZTtcclxuICAgICAgY29uc3QgZHggPSB4IC0gbW92ZVN0YXJ0UG9pbnRSZWYuY3VycmVudC54O1xyXG4gICAgICBjb25zdCBkeSA9IHkgLSBtb3ZlU3RhcnRQb2ludFJlZi5jdXJyZW50Lnk7XHJcblxyXG4gICAgICAvLyBVcGRhdGUgYWxsIHNlbGVjdGVkIG5vdGVzIGZyb20gdGhlaXIgb3JpZ2luYWwgcG9zaXRpb25zICh1c2UgcmVmIGZvciBpbW1lZGlhdGUgYWNjZXNzKVxyXG4gICAgICBzZWxlY3RlZE5vdGVJZHNSZWYuY3VycmVudC5mb3JFYWNoKChub3RlSWQpID0+IHtcclxuICAgICAgICBjb25zdCBvcmlnaW5hbFBvcyA9IG9yaWdpbmFsTm90ZVBvc2l0aW9uc1JlZi5jdXJyZW50LmdldChub3RlSWQpO1xyXG4gICAgICAgIGlmIChvcmlnaW5hbFBvcykge1xyXG4gICAgICAgICAgY29uc3QgbmV3WCA9IE1hdGgucm91bmQob3JpZ2luYWxQb3MueCArIGR4KTtcclxuICAgICAgICAgIGNvbnN0IG5ld1kgPSBNYXRoLnJvdW5kKG9yaWdpbmFsUG9zLnkgKyBkeSk7XHJcbiAgICAgICAgICB1cGRhdGVOb3RlKG5vdGVJZCwgeyB4OiBuZXdYLCB5OiBuZXdZIH0pO1xyXG4gICAgICAgICAgc29ja2V0LmVtaXQoXCJib2FyZDpub3RlOnVwZGF0ZVwiLCB7IGJvYXJkSWQsIGlkOiBub3RlSWQsIHg6IG5ld1gsIHk6IG5ld1kgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhY3RpdmVUb29sID09PSBcIlBFTlwiICYmIGlzRHJhd2luZ1JlZi5jdXJyZW50ICYmIGN1cnJlbnRQYXRoUmVmLmN1cnJlbnQpIHtcclxuICAgICAgY29uc3QgeCA9IChldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0IC0gc3RhdGUueCkgLyBzdGF0ZS5zY2FsZTtcclxuICAgICAgY29uc3QgeSA9IChldmVudC5jbGllbnRZIC0gcmVjdC50b3AgLSBzdGF0ZS55KSAvIHN0YXRlLnNjYWxlO1xyXG4gICAgICBjdXJyZW50UGF0aFJlZi5jdXJyZW50LnBvaW50cy5wdXNoKHsgeCwgeSB9KTtcclxuICAgICAgc2V0UGF0aHMoKHByZXYpID0+XHJcbiAgICAgICAgcHJldi5tYXAoKHApID0+IChwLmlkID09PSBjdXJyZW50UGF0aFJlZi5jdXJyZW50Py5pZCA/IGN1cnJlbnRQYXRoUmVmLmN1cnJlbnQgOiBwKSlcclxuICAgICAgKTtcclxuICAgICAgc29ja2V0LmVtaXQoXCJib2FyZDpwYXRoOnVwZGF0ZVwiLCB7IGJvYXJkSWQsIHBhdGg6IGN1cnJlbnRQYXRoUmVmLmN1cnJlbnQgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFjdGl2ZVRvb2wgPT09IFwiU0hBUEVcIiAmJiBpc0RyYXdpbmdSZWN0UmVmLmN1cnJlbnQgJiYgY3VycmVudFJlY3RSZWYuY3VycmVudCkge1xyXG4gICAgICBjb25zdCB4ID0gKGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQgLSBzdGF0ZS54KSAvIHN0YXRlLnNjYWxlO1xyXG4gICAgICBjb25zdCB5ID0gKGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcCAtIHN0YXRlLnkpIC8gc3RhdGUuc2NhbGU7XHJcbiAgICAgIGNvbnN0IHN0YXJ0WCA9IGN1cnJlbnRSZWN0UmVmLmN1cnJlbnQuc3RhcnRYO1xyXG4gICAgICBjb25zdCBzdGFydFkgPSBjdXJyZW50UmVjdFJlZi5jdXJyZW50LnN0YXJ0WTtcclxuICAgICAgY29uc3QgYXJyb3dBbmdsZSA9IHNoYXBlVHlwZSA9PT0gXCJhcnJvd1wiID8gTWF0aC5hdGFuMih5IC0gc3RhcnRZLCB4IC0gc3RhcnRYKSA6IHVuZGVmaW5lZDtcclxuICAgICAgY3VycmVudFJlY3RSZWYuY3VycmVudC5lbmRYID0geDtcclxuICAgICAgY3VycmVudFJlY3RSZWYuY3VycmVudC5lbmRZID0geTtcclxuICAgICAgc2V0UmVjdHMoKHByZXYpID0+IHtcclxuICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnByZXZdO1xyXG4gICAgICAgIGNvbnN0IGxhc3RJZHggPSB1cGRhdGVkLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgaWYgKGxhc3RJZHggPj0gMCkge1xyXG4gICAgICAgICAgdXBkYXRlZFtsYXN0SWR4XSA9IHtcclxuICAgICAgICAgICAgLi4udXBkYXRlZFtsYXN0SWR4XSxcclxuICAgICAgICAgICAgeDogTWF0aC5taW4oc3RhcnRYLCB4KSxcclxuICAgICAgICAgICAgeTogTWF0aC5taW4oc3RhcnRZLCB5KSxcclxuICAgICAgICAgICAgd2lkdGg6IE1hdGguYWJzKHggLSBzdGFydFgpLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IE1hdGguYWJzKHkgLSBzdGFydFkpLFxyXG4gICAgICAgICAgICBhcnJvd0FuZ2xlXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgc29ja2V0LmVtaXQoXCJib2FyZDpyZWN0OnVwZGF0ZVwiLCB7IGJvYXJkSWQsIHJlY3Q6IHVwZGF0ZWRbbGFzdElkeF0gfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1cGRhdGVkO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYWN0aXZlVG9vbCA9PT0gXCJBUlJPV1wiICYmIGlzRHJhd2luZ0Fycm93UmVmLmN1cnJlbnQgJiYgY3VycmVudEFycm93UmVmLmN1cnJlbnQpIHtcclxuICAgICAgY29uc3QgeCA9IChldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0IC0gc3RhdGUueCkgLyBzdGF0ZS5zY2FsZTtcclxuICAgICAgY29uc3QgeSA9IChldmVudC5jbGllbnRZIC0gcmVjdC50b3AgLSBzdGF0ZS55KSAvIHN0YXRlLnNjYWxlO1xyXG4gICAgICBjdXJyZW50QXJyb3dSZWYuY3VycmVudC54MiA9IHg7XHJcbiAgICAgIGN1cnJlbnRBcnJvd1JlZi5jdXJyZW50LnkyID0geTtcclxuICAgICAgc2V0QXJyb3dzKChwcmV2KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi5wcmV2XTtcclxuICAgICAgICBjb25zdCBsYXN0SWR4ID0gdXBkYXRlZC5sZW5ndGggLSAxO1xyXG4gICAgICAgIGlmIChsYXN0SWR4ID49IDApIHtcclxuICAgICAgICAgIHVwZGF0ZWRbbGFzdElkeF0gPSB7XHJcbiAgICAgICAgICAgIC4uLnVwZGF0ZWRbbGFzdElkeF0sXHJcbiAgICAgICAgICAgIHgyOiB4LFxyXG4gICAgICAgICAgICB5MjogeVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhY3RpdmVUb29sID09PSBcIlNFTEVDVFwiICYmIGlzU2VsZWN0aW5nUmVmLmN1cnJlbnQgJiYgY3VycmVudFJlY3RSZWYuY3VycmVudCkge1xyXG4gICAgICBjb25zdCB4ID0gKGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQgLSBzdGF0ZS54KSAvIHN0YXRlLnNjYWxlO1xyXG4gICAgICBjb25zdCB5ID0gKGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcCAtIHN0YXRlLnkpIC8gc3RhdGUuc2NhbGU7XHJcbiAgICAgIGNvbnN0IHN0YXJ0WCA9IGN1cnJlbnRSZWN0UmVmLmN1cnJlbnQuc3RhcnRYO1xyXG4gICAgICBjb25zdCBzdGFydFkgPSBjdXJyZW50UmVjdFJlZi5jdXJyZW50LnN0YXJ0WTtcclxuICAgICAgY3VycmVudFJlY3RSZWYuY3VycmVudC5lbmRYID0geDtcclxuICAgICAgY3VycmVudFJlY3RSZWYuY3VycmVudC5lbmRZID0geTtcclxuICAgICAgc2V0UmVjdHMoKHByZXYpID0+IHtcclxuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IHByZXYuZmlsdGVyKChyKSA9PiAhci5pZC5zdGFydHNXaXRoKFwic2VsZWN0aW9uLVwiKSk7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgIC4uLmZpbHRlcmVkLFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBpZDogXCJzZWxlY3Rpb24tcmVjdFwiLFxyXG4gICAgICAgICAgICB4OiBNYXRoLm1pbihzdGFydFgsIHgpLFxyXG4gICAgICAgICAgICB5OiBNYXRoLm1pbihzdGFydFksIHkpLFxyXG4gICAgICAgICAgICB3aWR0aDogTWF0aC5hYnMoeCAtIHN0YXJ0WCksXHJcbiAgICAgICAgICAgIGhlaWdodDogTWF0aC5hYnMoeSAtIHN0YXJ0WSlcclxuICAgICAgICAgIH1cclxuICAgICAgICBdO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVXaGVlbCA9IChldmVudDogUmVhY3QuV2hlZWxFdmVudCkgPT4ge1xyXG4gICAgaWYgKGV2ZW50LmN0cmxLZXkpIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgem9vbSgtZXZlbnQuZGVsdGFZIC8gNTAwLCB7IHg6IGV2ZW50LmNsaWVudFgsIHk6IGV2ZW50LmNsaWVudFkgfSk7XHJcbiAgICB9IGVsc2UgaWYgKGFjdGl2ZVRvb2wgPT09IFwiUEFOXCIpIHtcclxuICAgICAgcGFuKC1ldmVudC5kZWx0YVgsIC1ldmVudC5kZWx0YVkpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVBvaW50ZXJEb3duID0gKGV2ZW50OiBSZWFjdC5Qb2ludGVyRXZlbnQpID0+IHtcclxuICAgIGlmIChhY3RpdmVUb29sID09PSBcIlBBTlwiKSB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICBpc1Bhbm5pbmdSZWYuY3VycmVudCA9IHRydWU7XHJcbiAgICAgIGxhc3RQb2ludFJlZi5jdXJyZW50ID0geyB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZIH07XHJcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuc2V0UG9pbnRlckNhcHR1cmUoZXZlbnQucG9pbnRlcklkKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKGFjdGl2ZVRvb2wgPT09IFwiUEVOXCIpIHtcclxuICAgICAgY29uc3QgcmVjdCA9IGNvbnRhaW5lclJlZi5jdXJyZW50Py5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgaWYgKCFyZWN0KSByZXR1cm47XHJcbiAgICAgIGNvbnN0IHggPSAoZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCAtIHN0YXRlLngpIC8gc3RhdGUuc2NhbGU7XHJcbiAgICAgIGNvbnN0IHkgPSAoZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wIC0gc3RhdGUueSkgLyBzdGF0ZS5zY2FsZTtcclxuXHJcbiAgICAgIGNvbnN0IGlzTmVvbiA9IHBlblN0eWxlID09PSBcIm5lb25cIjtcclxuXHJcbiAgICAgIGNvbnN0IHBhdGg6IERyYXdQYXRoID0ge1xyXG4gICAgICAgIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxyXG4gICAgICAgIHBvaW50czogW3sgeCwgeSB9XSxcclxuICAgICAgICBwZW5TdHlsZSxcclxuICAgICAgICBjb2xvcjogcGVuQ29sb3IsXHJcbiAgICAgICAgY3JlYXRlZEF0OiBpc05lb24gPyBEYXRlLm5vdygpIDogdW5kZWZpbmVkLCAvLyBBZGQgdGltZXN0YW1wIG9ubHkgZm9yIG5lb25cclxuICAgICAgICBpc05lb246IGlzTmVvbiAvLyBGbGFnIGZvciBuZW9uIHJlbmRlcmluZ1xyXG4gICAgICB9O1xyXG4gICAgICBpc0RyYXdpbmdSZWYuY3VycmVudCA9IHRydWU7XHJcbiAgICAgIGN1cnJlbnRQYXRoUmVmLmN1cnJlbnQgPSBwYXRoO1xyXG4gICAgICBzZXRQYXRocygocHJldikgPT4gWy4uLnByZXYsIHBhdGhdKTtcclxuICAgICAgcmVnaXN0ZXJBY3Rpb24oeyB0eXBlOiBcInBhdGhcIiwgaWQ6IHBhdGguaWQgfSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiW0NhbnZhc10gRW1pdHRpbmcgcGF0aDpjcmVhdGVcIiwgcGF0aC5pZCk7XHJcbiAgICAgIHNvY2tldC5lbWl0KFwiYm9hcmQ6cGF0aDpjcmVhdGVcIiwgeyBib2FyZElkLCBwYXRoIH0pO1xyXG4gICAgICBzb2NrZXQuZW1pdChcInByZXNlbmNlOmRyYXdpbmdcIiwgeyBib2FyZElkLCB1c2VySWQsIGlzRHJhd2luZzogdHJ1ZSB9KTtcclxuICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5zZXRQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoYWN0aXZlVG9vbCA9PT0gXCJTSEFQRVwiKSB7XHJcbiAgICAgIGNvbnN0IHJlY3QgPSBjb250YWluZXJSZWYuY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIGlmICghcmVjdCkgcmV0dXJuO1xyXG4gICAgICBjb25zdCB4ID0gKGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQgLSBzdGF0ZS54KSAvIHN0YXRlLnNjYWxlO1xyXG4gICAgICBjb25zdCB5ID0gKGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcCAtIHN0YXRlLnkpIC8gc3RhdGUuc2NhbGU7XHJcblxyXG4gICAgICBpc0RyYXdpbmdSZWN0UmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICBjdXJyZW50UmVjdFJlZi5jdXJyZW50ID0geyBzdGFydFg6IHgsIHN0YXJ0WTogeSwgZW5kWDogeCwgZW5kWTogeSB9O1xyXG4gICAgICBjb25zdCBhcnJvd0FuZ2xlOiBEcmF3UmVjdFtcImFycm93QW5nbGVcIl0gPSBzaGFwZVR5cGUgPT09IFwiYXJyb3dcIiA/IDAgOiB1bmRlZmluZWQ7XHJcbiAgICAgIGNvbnN0IG5ld1JlY3Q6IERyYXdSZWN0ID0ge1xyXG4gICAgICAgIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxyXG4gICAgICAgIHgsXHJcbiAgICAgICAgeSxcclxuICAgICAgICB3aWR0aDogMCxcclxuICAgICAgICBoZWlnaHQ6IDAsXHJcbiAgICAgICAgc2hhcGVUeXBlLFxyXG4gICAgICAgIGNvbG9yOiBzaGFwZUNvbG9yLFxyXG4gICAgICAgIGFycm93QW5nbGVcclxuICAgICAgfTtcclxuICAgICAgc2V0UmVjdHMoKHByZXYpID0+IFsuLi5wcmV2LCBuZXdSZWN0XSk7XHJcbiAgICAgIHJlZ2lzdGVyQWN0aW9uKHsgdHlwZTogXCJyZWN0XCIsIGlkOiBuZXdSZWN0LmlkIH0pO1xyXG4gICAgICBzb2NrZXQuZW1pdChcImJvYXJkOnJlY3Q6Y3JlYXRlXCIsIHsgYm9hcmRJZCwgcmVjdDogbmV3UmVjdCB9KTtcclxuICAgICAgc29ja2V0LmVtaXQoXCJwcmVzZW5jZTpkcmF3aW5nXCIsIHsgYm9hcmRJZCwgdXNlcklkLCBpc0RyYXdpbmc6IHRydWUgfSk7XHJcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuc2V0UG9pbnRlckNhcHR1cmUoZXZlbnQucG9pbnRlcklkKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKGFjdGl2ZVRvb2wgPT09IFwiQVJST1dcIikge1xyXG4gICAgICBjb25zdCByZWN0ID0gY29udGFpbmVyUmVmLmN1cnJlbnQ/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBpZiAoIXJlY3QpIHJldHVybjtcclxuICAgICAgY29uc3QgeCA9IChldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0IC0gc3RhdGUueCkgLyBzdGF0ZS5zY2FsZTtcclxuICAgICAgY29uc3QgeSA9IChldmVudC5jbGllbnRZIC0gcmVjdC50b3AgLSBzdGF0ZS55KSAvIHN0YXRlLnNjYWxlO1xyXG5cclxuICAgICAgaXNEcmF3aW5nQXJyb3dSZWYuY3VycmVudCA9IHRydWU7XHJcbiAgICAgIGN1cnJlbnRBcnJvd1JlZi5jdXJyZW50ID0geyB4MTogeCwgeTE6IHksIHgyOiB4LCB5MjogeSB9O1xyXG4gICAgICBjb25zdCBuZXdBcnJvdzogRHJhd0Fycm93ID0ge1xyXG4gICAgICAgIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxyXG4gICAgICAgIHgxOiB4LFxyXG4gICAgICAgIHkxOiB5LFxyXG4gICAgICAgIHgyOiB4LFxyXG4gICAgICAgIHkyOiB5LFxyXG4gICAgICAgIGNvbG9yOiBcIiNFRjQ0NDRcIlxyXG4gICAgICB9O1xyXG4gICAgICBzZXRBcnJvd3MoKHByZXYpID0+IFsuLi5wcmV2LCBuZXdBcnJvd10pO1xyXG4gICAgICByZWdpc3RlckFjdGlvbih7IHR5cGU6IFwiYXJyb3dcIiwgaWQ6IG5ld0Fycm93LmlkIH0pO1xyXG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0LnNldFBvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChhY3RpdmVUb29sID09PSBcIlRFWFRcIikge1xyXG4gICAgICBjb25zdCByZWN0ID0gY29udGFpbmVyUmVmLmN1cnJlbnQ/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBpZiAoIXJlY3QpIHJldHVybjtcclxuICAgICAgY29uc3QgeCA9IChldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0IC0gc3RhdGUueCkgLyBzdGF0ZS5zY2FsZTtcclxuICAgICAgY29uc3QgeSA9IChldmVudC5jbGllbnRZIC0gcmVjdC50b3AgLSBzdGF0ZS55KSAvIHN0YXRlLnNjYWxlO1xyXG5cclxuICAgICAgc2V0QWRkaW5nVGV4dCh7IHgsIHkgfSk7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRleHRJbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpO1xyXG4gICAgICB9LCAwKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKGFjdGl2ZVRvb2wgPT09IFwiU0VMRUNUXCIpIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIGNvbnN0IHJlY3QgPSBjb250YWluZXJSZWYuY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIGlmICghcmVjdCkgcmV0dXJuO1xyXG4gICAgICBjb25zdCB4ID0gKGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQgLSBzdGF0ZS54KSAvIHN0YXRlLnNjYWxlO1xyXG4gICAgICBjb25zdCB5ID0gKGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcCAtIHN0YXRlLnkpIC8gc3RhdGUuc2NhbGU7XHJcblxyXG4gICAgICAvLyBDaGVjayBpZiBjbGlja2luZyBvbiBhbnkgbm90ZSAoc2VsZWN0ZWQgb3Igbm90KVxyXG4gICAgICBjb25zdCBjbGlja2VkTm90ZSA9IG5vdGVzLmZpbmQoKG4pID0+IGlzUG9pbnRJbk5vdGUoeCwgeSwgbikpO1xyXG5cclxuICAgICAgaWYgKGNsaWNrZWROb3RlKSB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRTZWxlY3Rpb24gPSBzZWxlY3RlZE5vdGVJZHM7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSWYgY2xpY2tpbmcgb24gYW4gdW5zZWxlY3RlZCBub3RlLCBzZWxlY3Qgb25seSB0aGF0IG5vdGVcclxuICAgICAgICBpZiAoIXNlbGVjdGVkTm90ZUlkcy5oYXMoY2xpY2tlZE5vdGUuaWQpKSB7XHJcbiAgICAgICAgICBjdXJyZW50U2VsZWN0aW9uID0gbmV3IFNldChbY2xpY2tlZE5vdGUuaWRdKTtcclxuICAgICAgICAgIHNldFNlbGVjdGVkTm90ZUlkcyhjdXJyZW50U2VsZWN0aW9uKTtcclxuICAgICAgICAgIHNlbGVjdGVkTm90ZUlkc1JlZi5jdXJyZW50ID0gY3VycmVudFNlbGVjdGlvbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFN0YXJ0IG1vdmluZyB0aGUgc2VsZWN0ZWQgbm90ZShzKSAtIHN0b3JlIG9yaWdpbmFsIHBvc2l0aW9uc1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU0VMRUNUOiBTdGFydCBtb3Zpbmcgbm90ZXNcIik7XHJcbiAgICAgICAgaXNNb3ZpbmdSZWYuY3VycmVudCA9IHRydWU7XHJcbiAgICAgICAgbW92ZVN0YXJ0UG9pbnRSZWYuY3VycmVudCA9IHsgeCwgeSB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFN0b3JlIG9yaWdpbmFsIHBvc2l0aW9ucyBvZiBhbGwgc2VsZWN0ZWQgbm90ZXNcclxuICAgICAgICBvcmlnaW5hbE5vdGVQb3NpdGlvbnNSZWYuY3VycmVudC5jbGVhcigpO1xyXG4gICAgICAgIGN1cnJlbnRTZWxlY3Rpb24uZm9yRWFjaCgobm90ZUlkKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBub3RlID0gbm90ZXMuZmluZChuID0+IG4uaWQgPT09IG5vdGVJZCk7XHJcbiAgICAgICAgICBpZiAobm90ZSkge1xyXG4gICAgICAgICAgICBvcmlnaW5hbE5vdGVQb3NpdGlvbnNSZWYuY3VycmVudC5zZXQobm90ZUlkLCB7IHg6IG5vdGUueCwgeTogbm90ZS55IH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuc2V0UG9pbnRlckNhcHR1cmUoZXZlbnQucG9pbnRlcklkKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE90aGVyd2lzZSwgc3RhcnQgc2VsZWN0aW9uIHJlY3RhbmdsZVxyXG4gICAgICBjb25zb2xlLmxvZyhcIlNFTEVDVDogU3RhcnQgc2VsZWN0aW9uIGF0XCIsIHgsIHkpO1xyXG4gICAgICBpc1NlbGVjdGluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgICAgY3VycmVudFJlY3RSZWYuY3VycmVudCA9IHsgc3RhcnRYOiB4LCBzdGFydFk6IHksIGVuZFg6IHgsIGVuZFk6IHkgfTtcclxuICAgICAgc2VsZWN0ZWROb3RlSWRzUmVmLmN1cnJlbnQuY2xlYXIoKTtcclxuICAgICAgc2V0U2VsZWN0ZWROb3RlSWRzKG5ldyBTZXQoKSk7XHJcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuc2V0UG9pbnRlckNhcHR1cmUoZXZlbnQucG9pbnRlcklkKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKGFjdGl2ZVRvb2wgPT09IFwiRVJBU0VSXCIpIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIGNvbnN0IHJlY3QgPSBjb250YWluZXJSZWYuY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIGlmICghcmVjdCkgcmV0dXJuO1xyXG4gICAgICBjb25zdCB4ID0gKGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQgLSBzdGF0ZS54KSAvIHN0YXRlLnNjYWxlO1xyXG4gICAgICBjb25zdCB5ID0gKGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcCAtIHN0YXRlLnkpIC8gc3RhdGUuc2NhbGU7XHJcblxyXG4gICAgICAvLyBDaGVjayBmb3Igc3RpY2t5IG5vdGUgdG8gZGVsZXRlXHJcbiAgICAgIGNvbnN0IG5vdGVUb0RlbGV0ZSA9IG5vdGVzLmZpbmQoKG4pID0+IGlzUG9pbnRJbk5vdGUoeCwgeSwgbikpO1xyXG4gICAgICBpZiAobm90ZVRvRGVsZXRlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJFcmFzaW5nIG5vdGU6XCIsIG5vdGVUb0RlbGV0ZS5pZCk7XHJcbiAgICAgICAgZGVsZXRlTm90ZShub3RlVG9EZWxldGUuaWQpO1xyXG4gICAgICAgIHNvY2tldC5lbWl0KFwiYm9hcmQ6bm90ZTpkZWxldGVcIiwgeyBib2FyZElkLCBpZDogbm90ZVRvRGVsZXRlLmlkIH0pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2hlY2sgZm9yIHBhdGggdG8gZGVsZXRlXHJcbiAgICAgIGNvbnN0IHBhdGhUb0RlbGV0ZSA9IHBhdGhzLmZpbmQoKHApID0+IGlzUG9pbnROZWFyUGF0aCh4LCB5LCBwKSk7XHJcbiAgICAgIGlmIChwYXRoVG9EZWxldGUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkVyYXNpbmcgcGF0aDpcIiwgcGF0aFRvRGVsZXRlLmlkKTtcclxuICAgICAgICBzZXRQYXRocygocHJldikgPT4gcHJldi5maWx0ZXIoKHApID0+IHAuaWQgIT09IHBhdGhUb0RlbGV0ZS5pZCkpO1xyXG4gICAgICAgIHNvY2tldC5lbWl0KFwiYm9hcmQ6cGF0aDpkZWxldGVcIiwgeyBib2FyZElkLCBpZDogcGF0aFRvRGVsZXRlLmlkIH0pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2hlY2sgZm9yIHJlY3RhbmdsZSB0byBkZWxldGVcclxuICAgICAgY29uc3QgcmVjdFRvRGVsZXRlID0gcmVjdHMuZmluZCgocikgPT4gIXIuaWQuc3RhcnRzV2l0aChcInNlbGVjdGlvbi1cIikgJiYgaXNQb2ludEluUmVjdCh4LCB5LCByKSk7XHJcbiAgICAgIGlmIChyZWN0VG9EZWxldGUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkVyYXNpbmcgcmVjdDpcIiwgcmVjdFRvRGVsZXRlLmlkKTtcclxuICAgICAgICBzZXRSZWN0cygocHJldikgPT4gcHJldi5maWx0ZXIoKHIpID0+IHIuaWQgIT09IHJlY3RUb0RlbGV0ZS5pZCkpO1xyXG4gICAgICAgIHNvY2tldC5lbWl0KFwiYm9hcmQ6cmVjdDpkZWxldGVcIiwgeyBib2FyZElkLCBpZDogcmVjdFRvRGVsZXRlLmlkIH0pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2hlY2sgZm9yIHRleHQgdG8gZGVsZXRlXHJcbiAgICAgIGNvbnN0IHRleHRUb0RlbGV0ZSA9IHRleHRzLmZpbmQoKHQpID0+IGlzUG9pbnROZWFyVGV4dCh4LCB5LCB0KSk7XHJcbiAgICAgIGlmICh0ZXh0VG9EZWxldGUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkVyYXNpbmcgdGV4dDpcIiwgdGV4dFRvRGVsZXRlLmlkKTtcclxuICAgICAgICBzZXRUZXh0cygocHJldikgPT4gcHJldi5maWx0ZXIoKHQpID0+IHQuaWQgIT09IHRleHRUb0RlbGV0ZS5pZCkpO1xyXG4gICAgICAgIHNvY2tldC5lbWl0KFwiYm9hcmQ6dGV4dDpkZWxldGVcIiwgeyBib2FyZElkLCBpZDogdGV4dFRvRGVsZXRlLmlkIH0pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2hlY2sgZm9yIGltYWdlIHRvIGRlbGV0ZVxyXG4gICAgICBjb25zdCBpbWFnZVRvRGVsZXRlID0gaW1hZ2VzLmZpbmQoKGltZykgPT4gaXNQb2ludEluSW1hZ2UoeCwgeSwgaW1nKSk7XHJcbiAgICAgIGlmIChpbWFnZVRvRGVsZXRlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJFcmFzaW5nIGltYWdlOlwiLCBpbWFnZVRvRGVsZXRlLmlkKTtcclxuICAgICAgICBzZXRJbWFnZXMoKHByZXYpID0+IHByZXYuZmlsdGVyKChpbWcpID0+IGltZy5pZCAhPT0gaW1hZ2VUb0RlbGV0ZS5pZCkpO1xyXG4gICAgICAgIHNvY2tldC5lbWl0KFwiYm9hcmQ6aW1hZ2U6ZGVsZXRlXCIsIHsgYm9hcmRJZCwgaWQ6IGltYWdlVG9EZWxldGUuaWQgfSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChhY3RpdmVUb29sICE9PSBcIlNUSUNLWVwiKSByZXR1cm47XHJcbiAgICBjb25zdCByZWN0ID0gY29udGFpbmVyUmVmLmN1cnJlbnQ/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgaWYgKCFyZWN0KSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgeCA9IChldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0IC0gc3RhdGUueCkgLyBzdGF0ZS5zY2FsZTtcclxuICAgIGNvbnN0IHkgPSAoZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wIC0gc3RhdGUueSkgLyBzdGF0ZS5zY2FsZTtcclxuXHJcbiAgICBjb25zdCBub3RlID0ge1xyXG4gICAgICBpZDogY3J5cHRvLnJhbmRvbVVVSUQoKSxcclxuICAgICAgeDogTWF0aC5yb3VuZCh4KSxcclxuICAgICAgeTogTWF0aC5yb3VuZCh5KSxcclxuICAgICAgdGV4dDogXCJOZXcgbm90ZVwiLFxyXG4gICAgICBjb2xvcjogc3RpY2t5Q29sb3JcclxuICAgIH07XHJcblxyXG4gICAgYWRkTm90ZShub3RlKTtcclxuICAgIHJlZ2lzdGVyQWN0aW9uKHsgdHlwZTogXCJub3RlXCIsIGlkOiBub3RlLmlkIH0pO1xyXG4gICAgc29ja2V0LmVtaXQoXCJib2FyZDpub3RlOmNyZWF0ZVwiLCB7IGJvYXJkSWQsIG5vdGUgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlUG9pbnRlclVwID0gKGV2ZW50OiBSZWFjdC5Qb2ludGVyRXZlbnQpID0+IHtcclxuICAgIGlmIChhY3RpdmVUb29sID09PSBcIlBBTlwiKSB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICBpc1Bhbm5pbmdSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICBsYXN0UG9pbnRSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCk7XHJcbiAgICB9XHJcbiAgICBpZiAoYWN0aXZlVG9vbCA9PT0gXCJQRU5cIikge1xyXG4gICAgICBpc0RyYXdpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICBjdXJyZW50UGF0aFJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgc29ja2V0LmVtaXQoXCJwcmVzZW5jZTpkcmF3aW5nXCIsIHsgYm9hcmRJZCwgdXNlcklkLCBpc0RyYXdpbmc6IGZhbHNlIH0pO1xyXG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0LnJlbGVhc2VQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpO1xyXG4gICAgfVxyXG4gICAgaWYgKGFjdGl2ZVRvb2wgPT09IFwiU0hBUEVcIikge1xyXG4gICAgICBpc0RyYXdpbmdSZWN0UmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgY3VycmVudFJlY3RSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgIHNvY2tldC5lbWl0KFwicHJlc2VuY2U6ZHJhd2luZ1wiLCB7IGJvYXJkSWQsIHVzZXJJZCwgaXNEcmF3aW5nOiBmYWxzZSB9KTtcclxuICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5yZWxlYXNlUG9pbnRlckNhcHR1cmUoZXZlbnQucG9pbnRlcklkKTtcclxuICAgIH1cclxuICAgIGlmIChhY3RpdmVUb29sID09PSBcIkFSUk9XXCIpIHtcclxuICAgICAgaXNEcmF3aW5nQXJyb3dSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICBjdXJyZW50QXJyb3dSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCk7XHJcbiAgICB9XHJcbiAgICBpZiAoYWN0aXZlVG9vbCA9PT0gXCJTRUxFQ1RcIikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIlNFTEVDVDogRW5kXCIpO1xyXG4gICAgICBpZiAoaXNNb3ZpbmdSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU0VMRUNUOiBFbmQgbW92aW5nXCIpO1xyXG4gICAgICAgIGlzTW92aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgICBtb3ZlU3RhcnRQb2ludFJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgICBvcmlnaW5hbE5vdGVQb3NpdGlvbnNSZWYuY3VycmVudC5jbGVhcigpO1xyXG4gICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpc1NlbGVjdGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgIC8vIEZpbmQgbm90ZXMgd2l0aGluIHNlbGVjdGlvbiByZWN0YW5nbGUgYW5kIHNlbGVjdCB0aGVtXHJcbiAgICAgIGNvbnN0IHNlbGVjdGlvblJlY3RzID0gcmVjdHMuZmlsdGVyKChyKSA9PiByLmlkID09PSBcInNlbGVjdGlvbi1yZWN0XCIpO1xyXG4gICAgICBpZiAoc2VsZWN0aW9uUmVjdHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnN0IHNlbFJlY3QgPSBzZWxlY3Rpb25SZWN0c1swXTtcclxuICAgICAgICBjb25zdCBzZWxlY3RlZE5vdGVzID0gbm90ZXMuZmlsdGVyKFxyXG4gICAgICAgICAgKG5vdGUpID0+XHJcbiAgICAgICAgICAgIG5vdGUueCA+PSBzZWxSZWN0LnggJiZcclxuICAgICAgICAgICAgbm90ZS54IDw9IHNlbFJlY3QueCArIHNlbFJlY3Qud2lkdGggJiZcclxuICAgICAgICAgICAgbm90ZS55ID49IHNlbFJlY3QueSAmJlxyXG4gICAgICAgICAgICBub3RlLnkgPD0gc2VsUmVjdC55ICsgc2VsUmVjdC5oZWlnaHRcclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2VsZWN0ZWQgbm90ZXM6XCIsIHNlbGVjdGVkTm90ZXMubGVuZ3RoLCBzZWxlY3RlZE5vdGVzKTtcclxuICAgICAgICBjb25zdCBuZXdTZWxlY3RlZElkcyA9IG5ldyBTZXQoc2VsZWN0ZWROb3Rlcy5tYXAoKG4pID0+IG4uaWQpKTtcclxuICAgICAgICBzZXRTZWxlY3RlZE5vdGVJZHMobmV3U2VsZWN0ZWRJZHMpO1xyXG4gICAgICAgIHNlbGVjdGVkTm90ZUlkc1JlZi5jdXJyZW50ID0gbmV3U2VsZWN0ZWRJZHM7XHJcbiAgICAgIH1cclxuICAgICAgY3VycmVudFJlY3RSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgIC8vIFJlbW92ZSBzZWxlY3Rpb24gcmVjdGFuZ2xlIGFmdGVyIGEgc2hvcnQgZGVsYXkgc28gaXQncyB2aXNpYmxlXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHNldFJlY3RzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigocikgPT4gIXIuaWQuc3RhcnRzV2l0aChcInNlbGVjdGlvbi1cIikpKTtcclxuICAgICAgfSwgMjAwKTtcclxuICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5yZWxlYXNlUG9pbnRlckNhcHR1cmUoZXZlbnQucG9pbnRlcklkKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVOb3RlVXBkYXRlID0gKGlkOiBzdHJpbmcsIHRleHQ6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJbQ2FudmFzXSBoYW5kbGVOb3RlVXBkYXRlIGNhbGxlZCBmb3Igbm90ZTpcIiwgaWQsIFwidGV4dDpcIiwgdGV4dCwgXCJzb2NrZXQuY29ubmVjdGVkOlwiLCBzb2NrZXQ/LmNvbm5lY3RlZCk7XHJcbiAgICBpZiAoIXNvY2tldD8uY29ubmVjdGVkKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihcIltDYW52YXNdIFNvY2tldCBub3QgY29ubmVjdGVkLCBjYW5ub3QgZW1pdCB1cGRhdGVcIik7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHNvY2tldC5lbWl0KFwiYm9hcmQ6bm90ZTp1cGRhdGVcIiwgeyBib2FyZElkLCBpZCwgdGV4dCB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVUZXh0SW5wdXQgPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xyXG4gICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgJiYgYWRkaW5nVGV4dCkge1xyXG4gICAgICBjb25zdCB0ZXh0ID0gZS5jdXJyZW50VGFyZ2V0LnZhbHVlIHx8IFwiVGV4dFwiO1xyXG4gICAgICBjb25zdCBuZXdUZXh0OiBEcmF3VGV4dCA9IHtcclxuICAgICAgICBpZDogY3J5cHRvLnJhbmRvbVVVSUQoKSxcclxuICAgICAgICB4OiBNYXRoLnJvdW5kKGFkZGluZ1RleHQueCksXHJcbiAgICAgICAgeTogTWF0aC5yb3VuZChhZGRpbmdUZXh0LnkpLFxyXG4gICAgICAgIHRleHRcclxuICAgICAgfTtcclxuICAgICAgc2V0VGV4dHMoKHByZXYpID0+IFsuLi5wcmV2LCBuZXdUZXh0XSk7XHJcbiAgICAgIHJlZ2lzdGVyQWN0aW9uKHsgdHlwZTogXCJ0ZXh0XCIsIGlkOiBuZXdUZXh0LmlkIH0pO1xyXG4gICAgICBzb2NrZXQuZW1pdChcImJvYXJkOnRleHQ6Y3JlYXRlXCIsIHsgYm9hcmRJZCwgdGV4dDogbmV3VGV4dCB9KTtcclxuICAgICAgc2V0QWRkaW5nVGV4dChudWxsKTtcclxuICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgc2V0QWRkaW5nVGV4dChudWxsKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdlxyXG4gICAgICByZWY9e2NvbnRhaW5lclJlZn1cclxuICAgICAgY2xhc3NOYW1lPVwicmVsYXRpdmUgaC1mdWxsIHctZnVsbCBvdmVyZmxvdy1oaWRkZW4gdG91Y2gtbm9uZVwiXHJcbiAgICAgIHN0eWxlPXt7IGN1cnNvcjogYWN0aXZlVG9vbCA9PT0gXCJFUkFTRVJcIiA/IFwibm90LWFsbG93ZWRcIiA6IGFjdGl2ZVRvb2wgPT09IFwiUEFOXCIgPyBcImdyYWJcIiA6IFwiY3Jvc3NoYWlyXCIgfX1cclxuICAgICAgb25Qb2ludGVyTW92ZT17aGFuZGxlUG9pbnRlck1vdmV9XHJcbiAgICAgIG9uUG9pbnRlckRvd249e2hhbmRsZVBvaW50ZXJEb3dufVxyXG4gICAgICBvblBvaW50ZXJVcD17aGFuZGxlUG9pbnRlclVwfVxyXG4gICAgICBvblBvaW50ZXJMZWF2ZT17aGFuZGxlUG9pbnRlclVwfVxyXG4gICAgICBvblBvaW50ZXJDYW5jZWw9e2hhbmRsZVBvaW50ZXJVcH1cclxuICAgICAgb25XaGVlbD17aGFuZGxlV2hlZWx9XHJcbiAgICA+XHJcbiAgICAgIDxkaXZcclxuICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTAgdG9wLTBcIlxyXG4gICAgICAgIHN0eWxlPXt7IHdpZHRoOiBCT0FSRF9TSVpFLCBoZWlnaHQ6IEJPQVJEX1NJWkUsIHRyYW5zZm9ybSwgdHJhbnNmb3JtT3JpZ2luOiBcIjAgMFwiIH19XHJcbiAgICAgID5cclxuICAgICAgICA8R3JpZEJhY2tncm91bmQgc2l6ZT17Qk9BUkRfU0laRX0gLz5cclxuICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMCB0b3AtMFwiIHdpZHRoPXtCT0FSRF9TSVpFfSBoZWlnaHQ9e0JPQVJEX1NJWkV9PlxyXG4gICAgICAgICAgPGRlZnM+XHJcbiAgICAgICAgICAgIHsvKiBTVkcgRmlsdGVycyBmb3IgTmVvbiBHbG93ICovfVxyXG4gICAgICAgICAgICA8ZmlsdGVyIGlkPVwibmVvbkdsb3dcIiB4PVwiLTUwJVwiIHk9XCItNTAlXCIgd2lkdGg9XCIyMDAlXCIgaGVpZ2h0PVwiMjAwJVwiPlxyXG4gICAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249XCIyXCIgcmVzdWx0PVwiY29sb3JlZEJsdXJcIiAvPlxyXG4gICAgICAgICAgICAgIDxmZU1lcmdlPlxyXG4gICAgICAgICAgICAgICAgPGZlTWVyZ2VOb2RlIGluPVwiY29sb3JlZEJsdXJcIiAvPlxyXG4gICAgICAgICAgICAgICAgPGZlTWVyZ2VOb2RlIGluPVwiU291cmNlR3JhcGhpY1wiIC8+XHJcbiAgICAgICAgICAgICAgPC9mZU1lcmdlPlxyXG4gICAgICAgICAgICA8L2ZpbHRlcj5cclxuICAgICAgICAgICAgPGZpbHRlciBpZD1cIm5lb25HbG93SW50ZW5zZVwiIHg9XCItMTAwJVwiIHk9XCItMTAwJVwiIHdpZHRoPVwiMzAwJVwiIGhlaWdodD1cIjMwMCVcIj5cclxuICAgICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPVwiM1wiIHJlc3VsdD1cImNvbG9yZWRCbHVyXCIgLz5cclxuICAgICAgICAgICAgICA8ZmVNZXJnZT5cclxuICAgICAgICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj1cImNvbG9yZWRCbHVyXCIgLz5cclxuICAgICAgICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj1cImNvbG9yZWRCbHVyXCIgLz5cclxuICAgICAgICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj1cIlNvdXJjZUdyYXBoaWNcIiAvPlxyXG4gICAgICAgICAgICAgIDwvZmVNZXJnZT5cclxuICAgICAgICAgICAgPC9maWx0ZXI+XHJcbiAgICAgICAgICA8L2RlZnM+XHJcbiAgICAgICAgICB7LyogUmVuZGVyIGltYWdlcyBGSVJTVCBzbyBkcmF3aW5ncyBhcHBlYXIgb24gdG9wICovfVxyXG4gICAgICAgICAge2ltYWdlcy5tYXAoKGltYWdlSXRlbSkgPT4gKFxyXG4gICAgICAgICAgICA8aW1hZ2VcclxuICAgICAgICAgICAgICBrZXk9e2ltYWdlSXRlbS5pZH1cclxuICAgICAgICAgICAgICB4PXtpbWFnZUl0ZW0ueH1cclxuICAgICAgICAgICAgICB5PXtpbWFnZUl0ZW0ueX1cclxuICAgICAgICAgICAgICB3aWR0aD17aW1hZ2VJdGVtLndpZHRofVxyXG4gICAgICAgICAgICAgIGhlaWdodD17aW1hZ2VJdGVtLmhlaWdodH1cclxuICAgICAgICAgICAgICBocmVmPXtpbWFnZUl0ZW0uc3JjfVxyXG4gICAgICAgICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW89XCJ4TWlkWU1pZCBtZWV0XCJcclxuICAgICAgICAgICAgICBwb2ludGVyRXZlbnRzPXthY3RpdmVUb29sID09PSBcIlNFTEVDVFwiID8gXCJhdXRvXCIgOiBcIm5vbmVcIn1cclxuICAgICAgICAgICAgICBzdHlsZT17eyBcclxuICAgICAgICAgICAgICAgIGN1cnNvcjogYWN0aXZlVG9vbCA9PT0gXCJTRUxFQ1RcIiA/ICdtb3ZlJyA6ICdkZWZhdWx0J1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgey4uLihhY3RpdmVUb29sID09PSBcIlNFTEVDVFwiICYmIHtcclxuICAgICAgICAgICAgICAgIG9uUG9pbnRlckRvd246IChlKSA9PiBoYW5kbGVJbWFnZVBvaW50ZXJEb3duKGUsIGltYWdlSXRlbS5pZCksXHJcbiAgICAgICAgICAgICAgICBvblBvaW50ZXJNb3ZlOiBoYW5kbGVJbWFnZVBvaW50ZXJNb3ZlLFxyXG4gICAgICAgICAgICAgICAgb25Qb2ludGVyVXA6IGhhbmRsZUltYWdlUG9pbnRlclVwXHJcbiAgICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICApKX1cclxuICAgICAgICAgIHsvKiBOb3cgcmVuZGVyIHBhdGhzL2RyYXdpbmdzIG9uIHRvcCBvZiBpbWFnZXMgKi99XHJcbiAgICAgICAgICB7cGF0aHMubWFwKChwYXRoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gcGF0aC5wZW5TdHlsZSB8fCBcInNvbGlkXCI7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsYXBzZWQgPSBwYXRoLmNyZWF0ZWRBdCA/IG5vdyAtIHBhdGguY3JlYXRlZEF0IDogMDtcclxuICAgICAgICAgICAgY29uc3QgZmFkZU91dER1cmF0aW9uID0gMTUwMDsgLy8gMS41IHNlY29uZHNcclxuICAgICAgICAgICAgY29uc3QgaXNFeHBpcmVkID0gZWxhcHNlZCA+IGZhZGVPdXREdXJhdGlvbjtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBmYWRlIG91dCBvcGFjaXR5XHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2VPcGFjaXR5ID0gc3R5bGUgPT09IFwiaGlnaGxpZ2h0ZXJcIiA/IDAuNCA6IDE7XHJcbiAgICAgICAgICAgIGNvbnN0IGZhZGVPcGFjaXR5ID0gcGF0aC5pc05lb24gXHJcbiAgICAgICAgICAgICAgPyBNYXRoLm1heCgwLCAxIC0gKGVsYXBzZWQgLyBmYWRlT3V0RHVyYXRpb24pKVxyXG4gICAgICAgICAgICAgIDogMTtcclxuICAgICAgICAgICAgY29uc3QgZmluYWxPcGFjaXR5ID0gYmFzZU9wYWNpdHkgKiBmYWRlT3BhY2l0eTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpc0V4cGlyZWQpIHJldHVybiBudWxsOyAvLyBEb24ndCByZW5kZXIgZXhwaXJlZCBwYXRoc1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgc3Ryb2tlV2lkdGggPSBzdHlsZSA9PT0gXCJtYXJrZXJcIiBcclxuICAgICAgICAgICAgICA/IDYgXHJcbiAgICAgICAgICAgICAgOiBzdHlsZSA9PT0gXCJoaWdobGlnaHRlclwiIFxyXG4gICAgICAgICAgICAgID8gMTIgXHJcbiAgICAgICAgICAgICAgOiBzdHlsZSA9PT0gXCJuZW9uXCJcclxuICAgICAgICAgICAgICA/IDNcclxuICAgICAgICAgICAgICA6IHN0eWxlID09PSBcInBlbmNpbFwiIFxyXG4gICAgICAgICAgICAgID8gMS41IFxyXG4gICAgICAgICAgICAgIDogMjtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IHN0cm9rZURhc2hhcnJheSA9IHN0eWxlID09PSBcImRhc2hlZFwiIFxyXG4gICAgICAgICAgICAgID8gXCI4LDRcIiBcclxuICAgICAgICAgICAgICA6IHN0eWxlID09PSBcImRvdHRlZFwiIFxyXG4gICAgICAgICAgICAgID8gXCIyLDRcIiBcclxuICAgICAgICAgICAgICA6IFwiMFwiO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICA8cGF0aFxyXG4gICAgICAgICAgICAgICAga2V5PXtwYXRoLmlkfVxyXG4gICAgICAgICAgICAgICAgZD17YE0gJHtwYXRoLnBvaW50cy5tYXAoKHApID0+IGAke3AueH0gJHtwLnl9YCkuam9pbihcIiBMIFwiKX1gfVxyXG4gICAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlPXtwYXRoLmNvbG9yIHx8IFwiIzBFQTVFOVwifVxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9e3N0cm9rZVdpZHRofVxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCJcclxuICAgICAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIlxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlRGFzaGFycmF5PXtzdHJva2VEYXNoYXJyYXl9XHJcbiAgICAgICAgICAgICAgICBvcGFjaXR5PXtmaW5hbE9wYWNpdHl9XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXI9e3BhdGguaXNOZW9uID8gXCJ1cmwoI25lb25HbG93SW50ZW5zZSlcIiA6IFwibm9uZVwifVxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogcGF0aC5pc05lb24gPyBcIm9wYWNpdHkgMC4wNXMgbGluZWFyXCIgOiBcIm5vbmVcIlxyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfSl9XHJcbiAgICAgICAgICB7YXJyb3dzLm1hcCgoYXJyb3cpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZHggPSBhcnJvdy54MiAtIGFycm93LngxO1xyXG4gICAgICAgICAgICBjb25zdCBkeSA9IGFycm93LnkyIC0gYXJyb3cueTE7XHJcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGguaHlwb3QoZHgsIGR5KTtcclxuICAgICAgICAgICAgY29uc3QgdCA9IE1hdGgubWluKDEsIE1hdGgubWF4KDAsIGxlbmd0aCAvIDMwMCkpO1xyXG4gICAgICAgICAgICBjb25zdCBzdHJva2VXaWR0aCA9IDIgKyB0ICogNjtcclxuICAgICAgICAgICAgY29uc3QgaGVhZExlbmd0aCA9IDEwICsgdCAqIDE2O1xyXG4gICAgICAgICAgICBjb25zdCBoZWFkV2lkdGggPSA2ICsgdCAqIDEyO1xyXG4gICAgICAgICAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIoZHksIGR4KTtcclxuICAgICAgICAgICAgY29uc3QgdXggPSBNYXRoLmNvcyhhbmdsZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHV5ID0gTWF0aC5zaW4oYW5nbGUpO1xyXG4gICAgICAgICAgICBjb25zdCBweCA9IC11eTtcclxuICAgICAgICAgICAgY29uc3QgcHkgPSB1eDtcclxuICAgICAgICAgICAgY29uc3QgYmFzZVggPSBhcnJvdy54MiAtIGhlYWRMZW5ndGggKiB1eDtcclxuICAgICAgICAgICAgY29uc3QgYmFzZVkgPSBhcnJvdy55MiAtIGhlYWRMZW5ndGggKiB1eTtcclxuICAgICAgICAgICAgY29uc3QgeDMgPSBiYXNlWCArIChoZWFkV2lkdGggLyAyKSAqIHB4O1xyXG4gICAgICAgICAgICBjb25zdCB5MyA9IGJhc2VZICsgKGhlYWRXaWR0aCAvIDIpICogcHk7XHJcbiAgICAgICAgICAgIGNvbnN0IHg0ID0gYmFzZVggLSAoaGVhZFdpZHRoIC8gMikgKiBweDtcclxuICAgICAgICAgICAgY29uc3QgeTQgPSBiYXNlWSAtIChoZWFkV2lkdGggLyAyKSAqIHB5O1xyXG4gICAgICAgICAgICBjb25zdCBjb2xvciA9IGFycm93LmNvbG9yIHx8IFwiI0VGNDQ0NFwiO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICA8ZyBrZXk9e2Fycm93LmlkfT5cclxuICAgICAgICAgICAgICAgIDxsaW5lXHJcbiAgICAgICAgICAgICAgICAgIHgxPXthcnJvdy54MX1cclxuICAgICAgICAgICAgICAgICAgeTE9e2Fycm93LnkxfVxyXG4gICAgICAgICAgICAgICAgICB4Mj17YXJyb3cueDJ9XHJcbiAgICAgICAgICAgICAgICAgIHkyPXthcnJvdy55Mn1cclxuICAgICAgICAgICAgICAgICAgc3Ryb2tlPXtjb2xvcn1cclxuICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9e3N0cm9rZVdpZHRofVxyXG4gICAgICAgICAgICAgICAgICBzdHJva2VMaW5lY2FwPVwicm91bmRcIlxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDxwb2x5Z29uXHJcbiAgICAgICAgICAgICAgICAgIHBvaW50cz17YCR7YXJyb3cueDJ9LCR7YXJyb3cueTJ9ICR7eDN9LCR7eTN9ICR7eDR9LCR7eTR9YH1cclxuICAgICAgICAgICAgICAgICAgZmlsbD17Y29sb3J9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0pfVxyXG4gICAgICAgICAge3JlY3RzLm1hcCgocmVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpc1NlbGVjdGlvbiA9IHJlY3QuaWQuc3RhcnRzV2l0aChcInNlbGVjdGlvbi1cIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlVHlwZSA9IHJlY3Quc2hhcGVUeXBlIHx8IFwicmVjdGFuZ2xlXCI7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlQ29sb3IgPSByZWN0LmNvbG9yIHx8IFwiIzhCNUNGNlwiO1xyXG4gICAgICAgICAgICBjb25zdCBjeCA9IHJlY3QueCArIHJlY3Qud2lkdGggLyAyO1xyXG4gICAgICAgICAgICBjb25zdCBjeSA9IHJlY3QueSArIHJlY3QuaGVpZ2h0IC8gMjtcclxuICAgICAgICAgICAgY29uc3QgciA9IE1hdGgubWluKHJlY3Qud2lkdGgsIHJlY3QuaGVpZ2h0KSAvIDI7XHJcbiAgICAgICAgICAgIGNvbnN0IGFycm93QW5nbGUgPSByZWN0LmFycm93QW5nbGUgPz8gMDtcclxuICAgICAgICAgICAgY29uc3QgYXJyb3dMZW5ndGggPSBNYXRoLm1heChyZWN0LndpZHRoLCByZWN0LmhlaWdodCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGFycm93SGVhZExlbmd0aCA9IE1hdGgubWluKDI0LCAxMCArIGFycm93TGVuZ3RoICogMC4yKTtcclxuICAgICAgICAgICAgY29uc3QgYXJyb3dIZWFkV2lkdGggPSBNYXRoLm1pbigxOCwgNiArIGFycm93TGVuZ3RoICogMC4xNSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHV4ID0gTWF0aC5jb3MoYXJyb3dBbmdsZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHV5ID0gTWF0aC5zaW4oYXJyb3dBbmdsZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHB4ID0gLXV5O1xyXG4gICAgICAgICAgICBjb25zdCBweSA9IHV4O1xyXG4gICAgICAgICAgICBjb25zdCBsaW5lWDEgPSBjeCAtIChhcnJvd0xlbmd0aCAvIDIpICogdXg7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpbmVZMSA9IGN5IC0gKGFycm93TGVuZ3RoIC8gMikgKiB1eTtcclxuICAgICAgICAgICAgY29uc3QgbGluZVgyID0gY3ggKyAoYXJyb3dMZW5ndGggLyAyKSAqIHV4O1xyXG4gICAgICAgICAgICBjb25zdCBsaW5lWTIgPSBjeSArIChhcnJvd0xlbmd0aCAvIDIpICogdXk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2VYID0gbGluZVgyIC0gYXJyb3dIZWFkTGVuZ3RoICogdXg7XHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2VZID0gbGluZVkyIC0gYXJyb3dIZWFkTGVuZ3RoICogdXk7XHJcbiAgICAgICAgICAgIGNvbnN0IGFycm93UG9pbnRzID0gYCR7bGluZVgyfSwke2xpbmVZMn0gJHtiYXNlWCArIChhcnJvd0hlYWRXaWR0aCAvIDIpICogcHh9LCR7YmFzZVkgKyAoYXJyb3dIZWFkV2lkdGggLyAyKSAqIHB5fSAke2Jhc2VYIC0gKGFycm93SGVhZFdpZHRoIC8gMikgKiBweH0sJHtiYXNlWSAtIChhcnJvd0hlYWRXaWR0aCAvIDIpICogcHl9YDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgPGcga2V5PXtyZWN0LmlkfT5cclxuICAgICAgICAgICAgICAgIHtzaGFwZVR5cGUgPT09IFwicmVjdGFuZ2xlXCIgJiYgKFxyXG4gICAgICAgICAgICAgICAgICA8cmVjdFxyXG4gICAgICAgICAgICAgICAgICAgIHg9e3JlY3QueH1cclxuICAgICAgICAgICAgICAgICAgICB5PXtyZWN0Lnl9XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg9e3JlY3Qud2lkdGh9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXtyZWN0LmhlaWdodH1cclxuICAgICAgICAgICAgICAgICAgICBmaWxsPXtpc1NlbGVjdGlvbiA/IFwicmdiYSg5NiwgMTY1LCAyNTAsIDAuMSlcIiA6IFwibm9uZVwifVxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZT17aXNTZWxlY3Rpb24gPyBcIiMwRUE1RTlcIiA6IHNoYXBlQ29sb3J9XHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9e2lzU2VsZWN0aW9uID8gXCIzXCIgOiBcIjJcIn1cclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VEYXNoYXJyYXk9e2lzU2VsZWN0aW9uID8gXCI4LDRcIiA6IFwiMFwifVxyXG4gICAgICAgICAgICAgICAgICAgIHBvaW50ZXJFdmVudHM9XCJub25lXCJcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICB7c2hhcGVUeXBlID09PSBcImNpcmNsZVwiICYmIChcclxuICAgICAgICAgICAgICAgICAgPGVsbGlwc2VcclxuICAgICAgICAgICAgICAgICAgICBjeD17Y3h9XHJcbiAgICAgICAgICAgICAgICAgICAgY3k9e2N5fVxyXG4gICAgICAgICAgICAgICAgICAgIHJ4PXtyZWN0LndpZHRoIC8gMn1cclxuICAgICAgICAgICAgICAgICAgICByeT17cmVjdC5oZWlnaHQgLyAyfVxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGw9e2lzU2VsZWN0aW9uID8gXCJyZ2JhKDk2LCAxNjUsIDI1MCwgMC4xKVwiIDogXCJub25lXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPXtpc1NlbGVjdGlvbiA/IFwiIzBFQTVFOVwiIDogc2hhcGVDb2xvcn1cclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD17aXNTZWxlY3Rpb24gPyBcIjNcIiA6IFwiMlwifVxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZURhc2hhcnJheT17aXNTZWxlY3Rpb24gPyBcIjgsNFwiIDogXCIwXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRlckV2ZW50cz1cIm5vbmVcIlxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIHtzaGFwZVR5cGUgPT09IFwidHJpYW5nbGVcIiAmJiAoXHJcbiAgICAgICAgICAgICAgICAgIDxwb2x5Z29uXHJcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzPXtgJHtjeH0sJHtyZWN0Lnl9ICR7cmVjdC54ICsgcmVjdC53aWR0aH0sJHtyZWN0LnkgKyByZWN0LmhlaWdodH0gJHtyZWN0Lnh9LCR7cmVjdC55ICsgcmVjdC5oZWlnaHR9YH1cclxuICAgICAgICAgICAgICAgICAgICBmaWxsPXtpc1NlbGVjdGlvbiA/IFwicmdiYSg5NiwgMTY1LCAyNTAsIDAuMSlcIiA6IFwibm9uZVwifVxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZT17aXNTZWxlY3Rpb24gPyBcIiMwRUE1RTlcIiA6IHNoYXBlQ29sb3J9XHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9e2lzU2VsZWN0aW9uID8gXCIzXCIgOiBcIjJcIn1cclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VEYXNoYXJyYXk9e2lzU2VsZWN0aW9uID8gXCI4LDRcIiA6IFwiMFwifVxyXG4gICAgICAgICAgICAgICAgICAgIHBvaW50ZXJFdmVudHM9XCJub25lXCJcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICB7c2hhcGVUeXBlID09PSBcImRpYW1vbmRcIiAmJiAoXHJcbiAgICAgICAgICAgICAgICAgIDxwb2x5Z29uXHJcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzPXtgJHtjeH0sJHtyZWN0Lnl9ICR7cmVjdC54ICsgcmVjdC53aWR0aH0sJHtjeX0gJHtjeH0sJHtyZWN0LnkgKyByZWN0LmhlaWdodH0gJHtyZWN0Lnh9LCR7Y3l9YH1cclxuICAgICAgICAgICAgICAgICAgICBmaWxsPXtpc1NlbGVjdGlvbiA/IFwicmdiYSg5NiwgMTY1LCAyNTAsIDAuMSlcIiA6IFwibm9uZVwifVxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZT17aXNTZWxlY3Rpb24gPyBcIiMwRUE1RTlcIiA6IHNoYXBlQ29sb3J9XHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9e2lzU2VsZWN0aW9uID8gXCIzXCIgOiBcIjJcIn1cclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VEYXNoYXJyYXk9e2lzU2VsZWN0aW9uID8gXCI4LDRcIiA6IFwiMFwifVxyXG4gICAgICAgICAgICAgICAgICAgIHBvaW50ZXJFdmVudHM9XCJub25lXCJcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICB7c2hhcGVUeXBlID09PSBcInN0YXJcIiAmJiAoXHJcbiAgICAgICAgICAgICAgICAgIDxwYXRoXHJcbiAgICAgICAgICAgICAgICAgICAgZD17YE0gJHtjeH0sJHtyZWN0Lnl9IEwgJHtjeCArIHIgKiAwLjN9LCR7Y3kgLSByICogMC4zfSBMICR7cmVjdC54ICsgcmVjdC53aWR0aH0sJHtjeX0gTCAke2N4ICsgciAqIDAuM30sJHtjeSArIHIgKiAwLjN9IEwgJHtjeH0sJHtyZWN0LnkgKyByZWN0LmhlaWdodH0gTCAke2N4IC0gciAqIDAuM30sJHtjeSArIHIgKiAwLjN9IEwgJHtyZWN0Lnh9LCR7Y3l9IEwgJHtjeCAtIHIgKiAwLjN9LCR7Y3kgLSByICogMC4zfSBaYH1cclxuICAgICAgICAgICAgICAgICAgICBmaWxsPXtpc1NlbGVjdGlvbiA/IFwicmdiYSg5NiwgMTY1LCAyNTAsIDAuMSlcIiA6IFwibm9uZVwifVxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZT17aXNTZWxlY3Rpb24gPyBcIiMwRUE1RTlcIiA6IHNoYXBlQ29sb3J9XHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9e2lzU2VsZWN0aW9uID8gXCIzXCIgOiBcIjJcIn1cclxuICAgICAgICAgICAgICAgICAgICBzdHJva2VEYXNoYXJyYXk9e2lzU2VsZWN0aW9uID8gXCI4LDRcIiA6IFwiMFwifVxyXG4gICAgICAgICAgICAgICAgICAgIHBvaW50ZXJFdmVudHM9XCJub25lXCJcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICB7c2hhcGVUeXBlID09PSBcImFycm93XCIgJiYgKFxyXG4gICAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgICB4MT17bGluZVgxfVxyXG4gICAgICAgICAgICAgICAgICAgICAgeTE9e2xpbmVZMX1cclxuICAgICAgICAgICAgICAgICAgICAgIHgyPXtsaW5lWDJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICB5Mj17bGluZVkyfVxyXG4gICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPXtpc1NlbGVjdGlvbiA/IFwiIzBFQTVFOVwiIDogc2hhcGVDb2xvcn1cclxuICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPXtpc1NlbGVjdGlvbiA/IFwiM1wiIDogXCIyXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICBzdHJva2VEYXNoYXJyYXk9e2lzU2VsZWN0aW9uID8gXCI4LDRcIiA6IFwiMFwifVxyXG4gICAgICAgICAgICAgICAgICAgICAgcG9pbnRlckV2ZW50cz1cIm5vbmVcIlxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPHBvbHlnb25cclxuICAgICAgICAgICAgICAgICAgICAgIHBvaW50cz17YXJyb3dQb2ludHN9XHJcbiAgICAgICAgICAgICAgICAgICAgICBmaWxsPXtpc1NlbGVjdGlvbiA/IFwiIzBFQTVFOVwiIDogc2hhcGVDb2xvcn1cclxuICAgICAgICAgICAgICAgICAgICAgIHBvaW50ZXJFdmVudHM9XCJub25lXCJcclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICB7aXNTZWxlY3Rpb24gJiYgKFxyXG4gICAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9e3JlY3QueH0gY3k9e3JlY3QueX0gcj1cIjZcIiBmaWxsPVwiIzBFQTVFOVwiIHBvaW50ZXJFdmVudHM9XCJub25lXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PXtyZWN0LnggKyByZWN0LndpZHRofSBjeT17cmVjdC55fSByPVwiNlwiIGZpbGw9XCIjMEVBNUU5XCIgcG9pbnRlckV2ZW50cz1cIm5vbmVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9e3JlY3QueH0gY3k9e3JlY3QueSArIHJlY3QuaGVpZ2h0fSByPVwiNlwiIGZpbGw9XCIjMEVBNUU5XCIgcG9pbnRlckV2ZW50cz1cIm5vbmVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9e3JlY3QueCArIHJlY3Qud2lkdGh9IGN5PXtyZWN0LnkgKyByZWN0LmhlaWdodH0gcj1cIjZcIiBmaWxsPVwiIzBFQTVFOVwiIHBvaW50ZXJFdmVudHM9XCJub25lXCIgLz5cclxuICAgICAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0pfVxyXG4gICAgICAgICAge3RleHRzLm1hcCgodGV4dEl0ZW0pID0+IChcclxuICAgICAgICAgICAgPHRleHRcclxuICAgICAgICAgICAgICBrZXk9e3RleHRJdGVtLmlkfVxyXG4gICAgICAgICAgICAgIHg9e3RleHRJdGVtLnh9XHJcbiAgICAgICAgICAgICAgeT17dGV4dEl0ZW0ueX1cclxuICAgICAgICAgICAgICBmb250U2l6ZT1cIjE2XCJcclxuICAgICAgICAgICAgICBmaWxsPVwiIzAwMFwiXHJcbiAgICAgICAgICAgICAgZm9udEZhbWlseT1cInN5c3RlbS11aSwgc2Fucy1zZXJpZlwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICB7dGV4dEl0ZW0udGV4dH1cclxuICAgICAgICAgICAgPC90ZXh0PlxyXG4gICAgICAgICAgKSl9XHJcbiAgICAgICAgPC9zdmc+XHJcbiAgICAgICAge25vdGVzLm1hcCgobm90ZSkgPT4gKFxyXG4gICAgICAgICAgPFN0aWNreU5vdGUga2V5PXtub3RlLmlkfSBub3RlPXtub3RlfSBvblVwZGF0ZT17aGFuZGxlTm90ZVVwZGF0ZX0gaXNTZWxlY3RlZD17c2VsZWN0ZWROb3RlSWRzLmhhcyhub3RlLmlkKX0gYWN0aXZlVG9vbD17YWN0aXZlVG9vbH0gLz5cclxuICAgICAgICApKX1cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIHthZGRpbmdUZXh0ICYmIChcclxuICAgICAgICA8aW5wdXRcclxuICAgICAgICAgIHJlZj17dGV4dElucHV0UmVmfVxyXG4gICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlIHRleHQgYW5kIHByZXNzIEVudGVyLi4uXCJcclxuICAgICAgICAgIG9uS2V5RG93bj17aGFuZGxlVGV4dElucHV0fVxyXG4gICAgICAgICAgb25CbHVyPXsoKSA9PiBzZXRBZGRpbmdUZXh0KG51bGwpfVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYmctd2hpdGUgYm9yZGVyLTIgYm9yZGVyLWJsdWUtNTAwIHJvdW5kZWQgcHgtMiBweS0xIHRleHQtc21cIlxyXG4gICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgbGVmdDogYCR7YWRkaW5nVGV4dC54ICogc3RhdGUuc2NhbGUgKyBzdGF0ZS54fXB4YCxcclxuICAgICAgICAgICAgdG9wOiBgJHthZGRpbmdUZXh0LnkgKiBzdGF0ZS5zY2FsZSArIHN0YXRlLnl9cHhgXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgIC8+XHJcbiAgICAgICl9XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59O1xyXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VNZW1vIiwidXNlUmVmIiwidXNlU3RhdGUiLCJHcmlkQmFja2dyb3VuZCIsIlN0aWNreU5vdGUiLCJ1c2VCb2FyZFN0b3JlIiwidXNlUGFuWm9vbSIsImRlYm91bmNlIiwidXNlVUlTdG9yZSIsIkNhbnZhcyIsInNvY2tldCIsImJvYXJkSWQiLCJ1c2VySWQiLCJhY3RpdmVUb29sIiwib25DbGVhckFsbFJlZiIsIm9uVW5kb1JlZiIsIm9uUmVnaXN0ZXJBY3Rpb25SZWYiLCJvbkltYWdlVXBsb2FkUmVmIiwiY2FudmFzU3RhdGVSZWYiLCJCT0FSRF9TSVpFIiwiQk9BUkRfQ0VOVEVSIiwiY29udGFpbmVyUmVmIiwiaXNQYW5uaW5nUmVmIiwibGFzdFBvaW50UmVmIiwiaXNEcmF3aW5nUmVmIiwiY3VycmVudFBhdGhSZWYiLCJpc0RyYXdpbmdSZWN0UmVmIiwiY3VycmVudFJlY3RSZWYiLCJpc0RyYXdpbmdBcnJvd1JlZiIsImN1cnJlbnRBcnJvd1JlZiIsImlzU2VsZWN0aW5nUmVmIiwiaXNNb3ZpbmdSZWYiLCJtb3ZlU3RhcnRQb2ludFJlZiIsIm9yaWdpbmFsTm90ZVBvc2l0aW9uc1JlZiIsIk1hcCIsInNlbGVjdGVkTm90ZUlkc1JlZiIsIlNldCIsImlzRHJhZ2dpbmdJbWFnZVJlZiIsImRyYWdnZWRJbWFnZUlkUmVmIiwiaW1hZ2VEcmFnU3RhcnRSZWYiLCJub3RlcyIsInN0YXRlIiwiYWRkTm90ZSIsInVwZGF0ZU5vdGUiLCJkZWxldGVOb3RlIiwic3RpY2t5Q29sb3IiLCJzaGFwZVR5cGUiLCJwZW5TdHlsZSIsInBlbkNvbG9yIiwic2hhcGVDb2xvciIsInRyYW5zZm9ybSIsInBhbiIsInpvb20iLCJ1c2VFZmZlY3QiLCJjdXJyZW50IiwiY29uc29sZSIsImxvZyIsInNldFBhdGhzIiwic2V0UmVjdHMiLCJzZXRBcnJvd3MiLCJzZXRUZXh0cyIsInNldFNlbGVjdGVkTm90ZUlkcyIsInNldEFkZGluZ1RleHQiLCJhY3Rpb25TdGFja1JlZiIsImFjdGlvbiIsInB1c2giLCJwb3AiLCJ0eXBlIiwicHJldiIsImZpbHRlciIsInAiLCJpZCIsImVtaXQiLCJyIiwiYSIsInQiLCJzZXRJbWFnZXMiLCJpbWciLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwid2lkdGgiLCJoZWlnaHQiLCJoYW5kbGVQYXRoQ3JlYXRlZCIsInBhdGgiLCJsZW5ndGgiLCJ1cGRhdGVkIiwiaGFuZGxlUGF0aFVwZGF0ZWQiLCJtYXAiLCJoYW5kbGVQYXRoRGVsZXRlZCIsImhhbmRsZVJlY3RDcmVhdGVkIiwiaGFuZGxlUmVjdFVwZGF0ZWQiLCJoYW5kbGVSZWN0RGVsZXRlZCIsImhhbmRsZVRleHREZWxldGVkIiwiaGFuZGxlSW1hZ2VDcmVhdGVkIiwiaW1hZ2UiLCJoYW5kbGVJbWFnZVVwZGF0ZWQiLCJoYW5kbGVJbWFnZURlbGV0ZWQiLCJoYW5kbGVDbGVhcmVkIiwib24iLCJvZmYiLCJmYWRlT3V0RHVyYXRpb24iLCJjbGVhbnVwSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsIm5vdyIsIkRhdGUiLCJpc05lb24iLCJjcmVhdGVkQXQiLCJjbGVhckludGVydmFsIiwicGF0aHMiLCJyZWN0cyIsImFycm93cyIsInRleHRzIiwiaW1hZ2VzIiwiYWRkaW5nVGV4dCIsInNlbGVjdGVkTm90ZUlkcyIsInRleHRJbnB1dFJlZiIsImlzUG9pbnRJbk5vdGUiLCJ4IiwieSIsIm5vdGUiLCJub3RlV2lkdGgiLCJub3RlSGVpZ2h0IiwicmVnaXN0ZXJBY3Rpb24iLCJoYW5kbGVJbWFnZVVwbG9hZCIsImZpbGUiLCJzdGFydHNXaXRoIiwiZXJyb3IiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiZSIsInNyYyIsInRhcmdldCIsInJlc3VsdCIsIkltYWdlIiwibWF4U2l6ZSIsInZpZXdwb3J0Q2VudGVyWCIsInNjYWxlIiwidmlld3BvcnRDZW50ZXJZIiwibmV3SW1hZ2UiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwicmVhZEFzRGF0YVVSTCIsImlzUG9pbnROZWFyUGF0aCIsInRocmVzaG9sZCIsInBvaW50cyIsInNvbWUiLCJwb2ludCIsImRpc3RhbmNlIiwiTWF0aCIsInNxcnQiLCJwb3ciLCJpc1BvaW50SW5SZWN0IiwiaXNQb2ludE5lYXJUZXh0IiwidGV4dCIsInRleHRXaWR0aCIsInRleHRIZWlnaHQiLCJpc1BvaW50SW5JbWFnZSIsImhhbmRsZUltYWdlUG9pbnRlckRvd24iLCJldmVudCIsImltYWdlSWQiLCJzdG9wUHJvcGFnYXRpb24iLCJjbGllbnRYIiwibGVmdCIsImNsaWVudFkiLCJ0b3AiLCJmaW5kIiwiaW1hZ2VYIiwiaW1hZ2VZIiwiY3VycmVudFRhcmdldCIsInNldFBvaW50ZXJDYXB0dXJlIiwicG9pbnRlcklkIiwiaGFuZGxlSW1hZ2VQb2ludGVyTW92ZSIsImR4IiwiZHkiLCJuZXdYIiwibmV3WSIsImhhbmRsZUltYWdlUG9pbnRlclVwIiwicmVsZWFzZVBvaW50ZXJDYXB0dXJlIiwiZW1pdEN1cnNvciIsInBvc2l0aW9uIiwiaGFuZGxlUG9pbnRlck1vdmUiLCJtb3ZlbWVudFgiLCJtb3ZlbWVudFkiLCJmb3JFYWNoIiwibm90ZUlkIiwib3JpZ2luYWxQb3MiLCJnZXQiLCJyb3VuZCIsInN0YXJ0WCIsInN0YXJ0WSIsImFycm93QW5nbGUiLCJhdGFuMiIsInVuZGVmaW5lZCIsImVuZFgiLCJlbmRZIiwibGFzdElkeCIsIm1pbiIsImFicyIsIngyIiwieTIiLCJmaWx0ZXJlZCIsImhhbmRsZVdoZWVsIiwiY3RybEtleSIsInByZXZlbnREZWZhdWx0IiwiZGVsdGFZIiwiZGVsdGFYIiwiaGFuZGxlUG9pbnRlckRvd24iLCJjb2xvciIsImlzRHJhd2luZyIsIm5ld1JlY3QiLCJ4MSIsInkxIiwibmV3QXJyb3ciLCJzZXRUaW1lb3V0IiwiZm9jdXMiLCJjbGlja2VkTm90ZSIsIm4iLCJjdXJyZW50U2VsZWN0aW9uIiwiaGFzIiwiY2xlYXIiLCJzZXQiLCJub3RlVG9EZWxldGUiLCJwYXRoVG9EZWxldGUiLCJyZWN0VG9EZWxldGUiLCJ0ZXh0VG9EZWxldGUiLCJpbWFnZVRvRGVsZXRlIiwiaGFuZGxlUG9pbnRlclVwIiwic2VsZWN0aW9uUmVjdHMiLCJzZWxSZWN0Iiwic2VsZWN0ZWROb3RlcyIsIm5ld1NlbGVjdGVkSWRzIiwiaGFuZGxlTm90ZVVwZGF0ZSIsImNvbm5lY3RlZCIsIndhcm4iLCJoYW5kbGVUZXh0SW5wdXQiLCJrZXkiLCJ2YWx1ZSIsIm5ld1RleHQiLCJkaXYiLCJyZWYiLCJjbGFzc05hbWUiLCJzdHlsZSIsImN1cnNvciIsIm9uUG9pbnRlck1vdmUiLCJvblBvaW50ZXJEb3duIiwib25Qb2ludGVyVXAiLCJvblBvaW50ZXJMZWF2ZSIsIm9uUG9pbnRlckNhbmNlbCIsIm9uV2hlZWwiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJzaXplIiwic3ZnIiwiZGVmcyIsImZlR2F1c3NpYW5CbHVyIiwic3RkRGV2aWF0aW9uIiwiZmVNZXJnZSIsImZlTWVyZ2VOb2RlIiwiaW4iLCJpbWFnZUl0ZW0iLCJocmVmIiwicHJlc2VydmVBc3BlY3RSYXRpbyIsInBvaW50ZXJFdmVudHMiLCJlbGFwc2VkIiwiaXNFeHBpcmVkIiwiYmFzZU9wYWNpdHkiLCJmYWRlT3BhY2l0eSIsIm1heCIsImZpbmFsT3BhY2l0eSIsInN0cm9rZVdpZHRoIiwic3Ryb2tlRGFzaGFycmF5IiwiZCIsImpvaW4iLCJmaWxsIiwic3Ryb2tlIiwic3Ryb2tlTGluZWNhcCIsInN0cm9rZUxpbmVqb2luIiwib3BhY2l0eSIsInRyYW5zaXRpb24iLCJhcnJvdyIsImh5cG90IiwiaGVhZExlbmd0aCIsImhlYWRXaWR0aCIsImFuZ2xlIiwidXgiLCJjb3MiLCJ1eSIsInNpbiIsInB4IiwicHkiLCJiYXNlWCIsImJhc2VZIiwieDMiLCJ5MyIsIng0IiwieTQiLCJnIiwibGluZSIsInBvbHlnb24iLCJpc1NlbGVjdGlvbiIsImN4IiwiY3kiLCJhcnJvd0xlbmd0aCIsImFycm93SGVhZExlbmd0aCIsImFycm93SGVhZFdpZHRoIiwibGluZVgxIiwibGluZVkxIiwibGluZVgyIiwibGluZVkyIiwiYXJyb3dQb2ludHMiLCJlbGxpcHNlIiwicngiLCJyeSIsImNpcmNsZSIsInRleHRJdGVtIiwiZm9udFNpemUiLCJmb250RmFtaWx5Iiwib25VcGRhdGUiLCJpc1NlbGVjdGVkIiwiaW5wdXQiLCJwbGFjZWhvbGRlciIsIm9uS2V5RG93biIsIm9uQmx1ciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/canvas/Canvas.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./hooks/useHotkeys.ts":
/*!*****************************!*\
  !*** ./hooks/useHotkeys.ts ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useHotkeys: function() { return /* binding */ useHotkeys; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _store_uiStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/store/uiStore */ \"(app-pages-browser)/./store/uiStore.ts\");\n\n\nconst HOTKEYS = {\n    v: \"SELECT\",\n    p: \"PEN\",\n    a: \"ARROW\",\n    r: \"SHAPE\",\n    t: \"TEXT\",\n    s: \"STICKY\",\n    i: \"IMAGE\",\n    e: \"ERASER\",\n    h: \"PAN\"\n};\nconst useHotkeys = ()=>{\n    const setTool = (0,_store_uiStore__WEBPACK_IMPORTED_MODULE_1__.useUIStore)((state)=>state.setTool);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const handler = (event)=>{\n            // Ignore hotkeys when typing in input fields or textareas\n            const target = event.target;\n            const activeElement = document.activeElement;\n            // Check if currently focused element is an input or textarea\n            if ((activeElement === null || activeElement === void 0 ? void 0 : activeElement.tagName) === \"INPUT\" || (activeElement === null || activeElement === void 0 ? void 0 : activeElement.tagName) === \"TEXTAREA\" || (activeElement === null || activeElement === void 0 ? void 0 : activeElement.isContentEditable) || target.tagName === \"INPUT\" || target.tagName === \"TEXTAREA\" || target.isContentEditable) {\n                return;\n            }\n            if (event.metaKey || event.ctrlKey || event.altKey) return;\n            const key = event.key.toLowerCase();\n            const tool = HOTKEYS[key];\n            if (tool) {\n                event.preventDefault();\n                console.log(\"Hotkey pressed: \".concat(key, \" -> \").concat(tool));\n                setTool(tool);\n            }\n        };\n        window.addEventListener(\"keydown\", handler);\n        return ()=>window.removeEventListener(\"keydown\", handler);\n    }, [\n        setTool\n    ]);\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL3VzZUhvdGtleXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFrQztBQUNXO0FBRTdDLE1BQU1FLFVBQWtDO0lBQ3RDQyxHQUFHO0lBQ0hDLEdBQUc7SUFDSEMsR0FBRztJQUNIQyxHQUFHO0lBQ0hDLEdBQUc7SUFDSEMsR0FBRztJQUNIQyxHQUFHO0lBQ0hDLEdBQUc7SUFDSEMsR0FBRztBQUNMO0FBRU8sTUFBTUMsYUFBYTtJQUN4QixNQUFNQyxVQUFVWiwwREFBVUEsQ0FBQyxDQUFDYSxRQUFVQSxNQUFNRCxPQUFPO0lBRW5EYixnREFBU0EsQ0FBQztRQUNSLE1BQU1lLFVBQVUsQ0FBQ0M7WUFDZiwwREFBMEQ7WUFDMUQsTUFBTUMsU0FBU0QsTUFBTUMsTUFBTTtZQUMzQixNQUFNQyxnQkFBZ0JDLFNBQVNELGFBQWE7WUFFNUMsNkRBQTZEO1lBQzdELElBQ0VBLENBQUFBLDBCQUFBQSxvQ0FBQUEsY0FBZUUsT0FBTyxNQUFLLFdBQzNCRixDQUFBQSwwQkFBQUEsb0NBQUFBLGNBQWVFLE9BQU8sTUFBSyxlQUMzQkYsMEJBQUFBLG9DQUFBQSxjQUFlRyxpQkFBaUIsS0FDaENKLE9BQU9HLE9BQU8sS0FBSyxXQUNuQkgsT0FBT0csT0FBTyxLQUFLLGNBQ25CSCxPQUFPSSxpQkFBaUIsRUFDeEI7Z0JBQ0E7WUFDRjtZQUVBLElBQUlMLE1BQU1NLE9BQU8sSUFBSU4sTUFBTU8sT0FBTyxJQUFJUCxNQUFNUSxNQUFNLEVBQUU7WUFDcEQsTUFBTUMsTUFBTVQsTUFBTVMsR0FBRyxDQUFDQyxXQUFXO1lBQ2pDLE1BQU1DLE9BQU96QixPQUFPLENBQUN1QixJQUFJO1lBQ3pCLElBQUlFLE1BQU07Z0JBQ1JYLE1BQU1ZLGNBQWM7Z0JBQ3BCQyxRQUFRQyxHQUFHLENBQUMsbUJBQTZCSCxPQUFWRixLQUFJLFFBQVcsT0FBTEU7Z0JBQ3pDZCxRQUFRYztZQUNWO1FBQ0Y7UUFFQUksT0FBT0MsZ0JBQWdCLENBQUMsV0FBV2pCO1FBQ25DLE9BQU8sSUFBTWdCLE9BQU9FLG1CQUFtQixDQUFDLFdBQVdsQjtJQUNyRCxHQUFHO1FBQUNGO0tBQVE7QUFDZCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2hvb2tzL3VzZUhvdGtleXMudHM/MGMyZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgdXNlVUlTdG9yZSB9IGZyb20gXCJAL3N0b3JlL3VpU3RvcmVcIjtcclxuXHJcbmNvbnN0IEhPVEtFWVM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgdjogXCJTRUxFQ1RcIixcclxuICBwOiBcIlBFTlwiLFxyXG4gIGE6IFwiQVJST1dcIixcclxuICByOiBcIlNIQVBFXCIsXHJcbiAgdDogXCJURVhUXCIsXHJcbiAgczogXCJTVElDS1lcIixcclxuICBpOiBcIklNQUdFXCIsXHJcbiAgZTogXCJFUkFTRVJcIixcclxuICBoOiBcIlBBTlwiXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXNlSG90a2V5cyA9ICgpID0+IHtcclxuICBjb25zdCBzZXRUb29sID0gdXNlVUlTdG9yZSgoc3RhdGUpID0+IHN0YXRlLnNldFRvb2wpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgaGFuZGxlciA9IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG4gICAgICAvLyBJZ25vcmUgaG90a2V5cyB3aGVuIHR5cGluZyBpbiBpbnB1dCBmaWVsZHMgb3IgdGV4dGFyZWFzXHJcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgY29uc3QgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDaGVjayBpZiBjdXJyZW50bHkgZm9jdXNlZCBlbGVtZW50IGlzIGFuIGlucHV0IG9yIHRleHRhcmVhXHJcbiAgICAgIGlmIChcclxuICAgICAgICBhY3RpdmVFbGVtZW50Py50YWdOYW1lID09PSBcIklOUFVUXCIgfHxcclxuICAgICAgICBhY3RpdmVFbGVtZW50Py50YWdOYW1lID09PSBcIlRFWFRBUkVBXCIgfHxcclxuICAgICAgICBhY3RpdmVFbGVtZW50Py5pc0NvbnRlbnRFZGl0YWJsZSB8fFxyXG4gICAgICAgIHRhcmdldC50YWdOYW1lID09PSBcIklOUFVUXCIgfHxcclxuICAgICAgICB0YXJnZXQudGFnTmFtZSA9PT0gXCJURVhUQVJFQVwiIHx8XHJcbiAgICAgICAgdGFyZ2V0LmlzQ29udGVudEVkaXRhYmxlXHJcbiAgICAgICkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuY3RybEtleSB8fCBldmVudC5hbHRLZXkpIHJldHVybjtcclxuICAgICAgY29uc3Qga2V5ID0gZXZlbnQua2V5LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgIGNvbnN0IHRvb2wgPSBIT1RLRVlTW2tleV07XHJcbiAgICAgIGlmICh0b29sKSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhgSG90a2V5IHByZXNzZWQ6ICR7a2V5fSAtPiAke3Rvb2x9YCk7XHJcbiAgICAgICAgc2V0VG9vbCh0b29sIGFzIG5ldmVyKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlcik7XHJcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZXIpO1xyXG4gIH0sIFtzZXRUb29sXSk7XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VVSVN0b3JlIiwiSE9US0VZUyIsInYiLCJwIiwiYSIsInIiLCJ0IiwicyIsImkiLCJlIiwiaCIsInVzZUhvdGtleXMiLCJzZXRUb29sIiwic3RhdGUiLCJoYW5kbGVyIiwiZXZlbnQiLCJ0YXJnZXQiLCJhY3RpdmVFbGVtZW50IiwiZG9jdW1lbnQiLCJ0YWdOYW1lIiwiaXNDb250ZW50RWRpdGFibGUiLCJtZXRhS2V5IiwiY3RybEtleSIsImFsdEtleSIsImtleSIsInRvTG93ZXJDYXNlIiwidG9vbCIsInByZXZlbnREZWZhdWx0IiwiY29uc29sZSIsImxvZyIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/useHotkeys.ts\n"));

/***/ })

});